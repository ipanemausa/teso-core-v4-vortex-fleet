const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/GeminiConsultantArtifact.Bsi613ne.js","assets/index.DRK0A7sF.js","assets/index.A4Nlst-Q.css"])))=>i.map(i=>d[i]);
import{E as mt,j as i,r as b,M as bt,T as St,a as fe,v as Ct,P as Fe,b as Et,g as At,u as _e,L as jt,p as wt,c as Tt,R as Ue,_ as Dt}from"./index.DRK0A7sF.js";import"./ClientDashboard.DIoE8hPC.js";function Ve(n,e,r,t,o){t=t||{};var a=1.15,l=o.internal.scaleFactor,d=o.internal.getFontSize()/l,c=o.getLineHeightFactor?o.getLineHeightFactor():a,s=d*c,p=/\r\n|\r|\n/g,h="",f=1;if((t.valign==="middle"||t.valign==="bottom"||t.halign==="center"||t.halign==="right")&&(h=typeof n=="string"?n.split(p):n,f=h.length||1),r+=d*(2-a),t.valign==="middle"?r-=f/2*s:t.valign==="bottom"&&(r-=f*s),t.halign==="center"||t.halign==="right"){var x=d;if(t.halign==="center"&&(x*=.5),h&&f>=1){for(var u=0;u<h.length;u++)o.text(h[u],e-o.getStringUnitWidth(h[u])*x,r),r+=s;return o}e-=o.getStringUnitWidth(n)*x}return t.halign==="justify"?o.text(n,e,r,{maxWidth:t.maxWidth||100,align:"justify"}):o.text(n,e,r),o}var Oe={},se=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:Oe=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,r){var t,o,a;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var l=this.jsPDFDocument.internal.getFont(),d=l.fontStyle,c=l.fontName;if(e.font&&(c=e.font),e.fontStyle){d=e.fontStyle;var s=this.getFontList()[c];s&&s.indexOf(d)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(s[0]),d=s[0])}if(this.jsPDFDocument.setFont(c,d),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var p=n.unifyColor(e.fillColor);p&&(t=this.jsPDFDocument).setFillColor.apply(t,p),p=n.unifyColor(e.textColor),p&&(o=this.jsPDFDocument).setTextColor.apply(o,p),p=n.unifyColor(e.lineColor),p&&(a=this.jsPDFDocument).setDrawColor.apply(a,p),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,r,t){return this.jsPDFDocument.splitTextToSize(e,r,t)},n.prototype.rect=function(e,r,t,o,a){return this.jsPDFDocument.rect(e,r,t,o,a)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Oe||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),je=function(n,e){return je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])},je(n,e)};function Ge(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");je(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $e=(function(n){Ge(e,n);function e(r){var t=n.call(this)||this;return t._element=r,t}return e})(Array);function It(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Rt(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function ue(n,e,r){r.applyStyles(e,!0);var t=Array.isArray(n)?n:[n],o=t.map(function(a){return r.getTextWidth(a)}).reduce(function(a,l){return Math.max(a,l)},0);return o}function Ye(n,e,r,t){var o=e.settings.tableLineWidth,a=e.settings.tableLineColor;n.applyStyles({lineWidth:o,lineColor:a});var l=Ke(o,!1);l&&n.rect(r.x,r.y,e.getWidth(n.pageSize().width),t.y-r.y,l)}function Ke(n,e){var r=n>0,t=e||e===0;return r&&t?"DF":r?"S":t?"F":null}function ve(n,e){var r,t,o,a;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(r=n.left)!==null&&r!==void 0?r:e,top:(t=n.top)!==null&&t!==void 0?t:e,right:(o=n.right)!==null&&o!==void 0?o:e,bottom:(a=n.bottom)!==null&&a!==void 0?a:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function Je(n,e){var r=ve(e.settings.margin,0);return n.pageSize().width-(r.left+r.right)}function Ft(n,e,r,t,o){var a={},l=1.3333333333333333,d=Se(e,function(A){return o.getComputedStyle(A).backgroundColor});d!=null&&(a.fillColor=d);var c=Se(e,function(A){return o.getComputedStyle(A).color});c!=null&&(a.textColor=c);var s=Pt(t,r);s&&(a.cellPadding=s);var p="borderTopColor",h=l*r,f=t.borderTopWidth;if(t.borderBottomWidth===f&&t.borderRightWidth===f&&t.borderLeftWidth===f){var x=(parseFloat(f)||0)/h;x&&(a.lineWidth=x)}else a.lineWidth={top:(parseFloat(t.borderTopWidth)||0)/h,right:(parseFloat(t.borderRightWidth)||0)/h,bottom:(parseFloat(t.borderBottomWidth)||0)/h,left:(parseFloat(t.borderLeftWidth)||0)/h},a.lineWidth.top||(a.lineWidth.right?p="borderRightColor":a.lineWidth.bottom?p="borderBottomColor":a.lineWidth.left&&(p="borderLeftColor"));var u=Se(e,function(A){return o.getComputedStyle(A)[p]});u!=null&&(a.lineColor=u);var C=["left","right","center","justify"];C.indexOf(t.textAlign)!==-1&&(a.halign=t.textAlign),C=["middle","bottom","top"],C.indexOf(t.verticalAlign)!==-1&&(a.valign=t.verticalAlign);var E=parseInt(t.fontSize||"");isNaN(E)||(a.fontSize=E/l);var g=Ot(t);g&&(a.fontStyle=g);var y=(t.fontFamily||"").toLowerCase();return n.indexOf(y)!==-1&&(a.font=y),a}function Ot(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function Se(n,e){var r=Ze(n,e);if(!r)return null;var t=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!t||!Array.isArray(t))return null;var o=[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])],a=parseInt(t[4]);return a===0||isNaN(o[0])||isNaN(o[1])||isNaN(o[2])?null:o}function Ze(n,e){var r=e(n);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?n.parentElement==null?null:Ze(n.parentElement,e):r}function Pt(n,e){var r=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],t=96/(72/e),o=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,a=r.map(function(d){return parseInt(d||"0")/t}),l=ve(a,0);return o>l.top&&(l.top=o),o>l.bottom&&(l.bottom=o),l}function Xe(n,e,r,t,o){var a,l;t===void 0&&(t=!1),o===void 0&&(o=!1);var d;typeof e=="string"?d=r.document.querySelector(e):d=e;var c=Object.keys(n.getFontList()),s=n.scaleFactor(),p=[],h=[],f=[];if(!d)return console.error("Html table could not be found with input: ",e),{head:p,body:h,foot:f};for(var x=0;x<d.rows.length;x++){var u=d.rows[x],C=(l=(a=u?.parentElement)===null||a===void 0?void 0:a.tagName)===null||l===void 0?void 0:l.toLowerCase(),E=Nt(c,s,r,u,t,o);E&&(C==="thead"?p.push(E):C==="tfoot"?f.push(E):h.push(E))}return{head:p,body:h,foot:f}}function Nt(n,e,r,t,o,a){for(var l=new $e(t),d=0;d<t.cells.length;d++){var c=t.cells[d],s=r.getComputedStyle(c);if(o||s.display!=="none"){var p=void 0;a&&(p=Ft(n,c,e,s,r)),l.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:p,_element:c,content:Mt(c)})}}var h=r.getComputedStyle(t);if(l.length>0&&(o||h.display!=="none"))return l}function Mt(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function Lt(n,e,r){for(var t=0,o=[n,e,r];t<o.length;t++){var a=o[t];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Y(n,e,r,t,o){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(n),l=1;l<arguments.length;l++){var d=arguments[l];if(d!=null)for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}return a}function Qe(n,e){var r=new se(n),t=r.getDocumentOptions(),o=r.getGlobalOptions();Lt(o,t,e);var a=Y({},o,t,e),l;typeof window<"u"&&(l=window);var d=kt(o,t,e),c=Wt(o,t,e),s=zt(r,a),p=Bt(r,a,l);return{id:e.tableId,content:p,hooks:c,styles:d,settings:s}}function kt(n,e,r){for(var t={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},o=function(c){if(c==="columnStyles"){var s=n[c],p=e[c],h=r[c];t.columnStyles=Y({},s,p,h)}else{var f=[n,e,r],x=f.map(function(u){return u[c]||{}});t[c]=Y({},x[0],x[1],x[2])}},a=0,l=Object.keys(t);a<l.length;a++){var d=l[a];o(d)}return t}function Wt(n,e,r){for(var t=[n,e,r],o={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,l=t;a<l.length;a++){var d=l[a];d.didParseCell&&o.didParseCell.push(d.didParseCell),d.willDrawCell&&o.willDrawCell.push(d.willDrawCell),d.didDrawCell&&o.didDrawCell.push(d.didDrawCell),d.willDrawPage&&o.willDrawPage.push(d.willDrawPage),d.didDrawPage&&o.didDrawPage.push(d.didDrawPage)}return o}function zt(n,e){var r,t,o,a,l,d,c,s,p,h,f,x,u=ve(e.margin,40/n.scaleFactor()),C=(r=Ht(n,e.startY))!==null&&r!==void 0?r:u.top,E;e.showFoot===!0?E="everyPage":e.showFoot===!1?E="never":E=(t=e.showFoot)!==null&&t!==void 0?t:"everyPage";var g;e.showHead===!0?g="everyPage":e.showHead===!1?g="never":g=(o=e.showHead)!==null&&o!==void 0?o:"everyPage";var y=(a=e.useCss)!==null&&a!==void 0?a:!1,A=e.theme||(y?"plain":"striped"),z=!!e.horizontalPageBreak,H=(l=e.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(d=e.includeHiddenHtml)!==null&&d!==void 0?d:!1,useCss:y,theme:A,startY:C,margin:u,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(s=e.rowPageBreak)!==null&&s!==void 0?s:"auto",tableWidth:(p=e.tableWidth)!==null&&p!==void 0?p:"auto",showHead:g,showFoot:E,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(f=e.tableLineColor)!==null&&f!==void 0?f:200,horizontalPageBreak:z,horizontalPageBreakRepeat:H,horizontalPageBreakBehaviour:(x=e.horizontalPageBreakBehaviour)!==null&&x!==void 0?x:"afterAllRows"}}function Ht(n,e){var r=n.getLastAutoTable(),t=n.scaleFactor(),o=n.pageNumber(),a=!1;if(r&&r.startPageNumber){var l=r.startPageNumber+r.pageNumber-1;a=l===o}return typeof e=="number"?e:(e==null||e===!1)&&a&&r?.finalY!=null?r.finalY+20/t:null}function Bt(n,e,r){var t=e.head||[],o=e.body||[],a=e.foot||[];if(e.html){var l=e.includeHiddenHtml;if(r){var d=Xe(n,e.html,r,l,e.useCss)||{};t=d.head||t,o=d.body||t,a=d.foot||t}else console.error("Cannot parse html in non browser environment")}var c=e.columns||_t(t,o,a);return{columns:c,head:t,body:o,foot:a}}function _t(n,e,r){var t=n[0]||e[0]||r[0]||[],o=[];return Object.keys(t).filter(function(a){return a!=="_element"}).forEach(function(a){var l=1,d;Array.isArray(t)?d=t[parseInt(a)]:d=t[a],typeof d=="object"&&!Array.isArray(d)&&(l=d?.colSpan||1);for(var c=0;c<l;c++){var s=void 0;Array.isArray(t)?s=o.length:s=a+(c>0?"_".concat(c):"");var p={dataKey:s};o.push(p)}}),o}var we=(function(){function n(e,r,t){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=t,this.doc=e.getDocument()}return n})(),Ut=(function(n){Ge(e,n);function e(r,t,o,a,l,d){var c=n.call(this,r,t,d)||this;return c.cell=o,c.row=a,c.column=l,c.section=a.section,c}return e})(we),Vt=(function(){function n(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,t){return r+t.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,t){return r+t.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,r,t,o,a,l){for(var d=0,c=r;d<c.length;d++){var s=c[d],p=new Ut(e,this,t,o,a,l),h=s(p)===!1;if(t.text=Array.isArray(t.text)?t.text:[t.text],h)return!1}return!0},n.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var t=0,o=this.hooks.didDrawPage;t<o.length;t++){var a=o[t];a(new we(e,this,r))}},n.prototype.callWillDrawPageHooks=function(e,r){for(var t=0,o=this.hooks.willDrawPage;t<o.length;t++){var a=o[t];a(new we(e,this,r))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(o,a){return o+a.wrappedWidth},0);return r}else{var t=this.settings.margin;return e-t.left-t.right}},n})(),qe=(function(){function n(e,r,t,o,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof $e&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=t,this.cells=o,this.spansMultiplePages=a}return n.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(t,o){var a;return Math.max(t,((a=r.cells[o.index])===null||a===void 0?void 0:a.height)||0)},0)},n.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(t){var o=r.cells[t.index];return o?o.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},n.prototype.getMinimumRowHeight=function(e,r){var t=this;return e.reduce(function(o,a){var l=t.cells[a.index];if(!l)return 0;var d=r.getLineHeight(l.styles.fontSize),c=l.padding("vertical"),s=c+d;return s>o?s:o},0)},n})(),et=(function(){function n(e,r,t){var o;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=t,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(o=e.content)!==null&&o!==void 0?o:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var l=a!=null?""+a:"",d=/\r\n|\r|\n/g;this.text=l.split(d)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var t;if(this.styles.halign==="right")t=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var o=this.width-this.padding("horizontal");t=this.x+o/2+this.padding("left")}else t=this.x+this.padding("left");return{x:t,y:e}},n.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var t=Array.isArray(this.text)?this.text.length:1,o=this.styles.fontSize/e*r,a=t*o+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},n.prototype.padding=function(e){var r=ve(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},n})(),Gt=(function(){function n(e,r,t){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=t}return n.prototype.getMaxCustomCellWidth=function(e){for(var r=0,t=0,o=e.allRows();t<o.length;t++){var a=o[t],l=a.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(r=Math.max(r,l.styles.cellWidth))}return r},n})();function $t(n,e){Yt(n,e);var r=[],t=0;e.columns.forEach(function(a){var l=a.getMaxCustomCellWidth(e);l?a.width=l:(a.width=a.wrappedWidth,r.push(a)),t+=a.width});var o=e.getWidth(n.pageSize().width)-t;o&&(o=Te(r,o,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),o&&(o=Te(r,o,function(a){return a.minWidth})),o=Math.abs(o),!e.settings.horizontalPageBreak&&o>.1/n.scaleFactor()&&(o=o<1?o:Math.round(o),console.log("Of the table content, ".concat(o," units width could not fit page"))),Jt(e),Zt(e,n),Kt(e)}function Yt(n,e){var r=n.scaleFactor(),t=e.settings.horizontalPageBreak,o=Je(n,e);e.allRows().forEach(function(a){for(var l=0,d=e.columns;l<d.length;l++){var c=d[l],s=a.cells[c.index];if(s){var p=e.hooks.didParseCell;e.callCellHooks(n,p,s,a,c,null);var h=s.padding("horizontal");s.contentWidth=ue(s.text,s.styles,n)+h;var f=ue(s.text.join(" ").split(/[^\S\u00A0]+/),s.styles,n);if(s.minReadableWidth=f+s.padding("horizontal"),typeof s.styles.cellWidth=="number")s.minWidth=s.styles.cellWidth,s.wrappedWidth=s.styles.cellWidth;else if(s.styles.cellWidth==="wrap"||t===!0)s.contentWidth>o?(s.minWidth=o,s.wrappedWidth=o):(s.minWidth=s.contentWidth,s.wrappedWidth=s.contentWidth);else{var x=10/r;s.minWidth=s.styles.minCellWidth||x,s.wrappedWidth=s.contentWidth,s.minWidth>s.wrappedWidth&&(s.wrappedWidth=s.minWidth)}}}}),e.allRows().forEach(function(a){for(var l=0,d=e.columns;l<d.length;l++){var c=d[l],s=a.cells[c.index];if(s&&s.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,s.wrappedWidth),c.minWidth=Math.max(c.minWidth,s.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,s.minReadableWidth);else{var p=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},h=p.cellWidth||p.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}s&&(s.colSpan>1&&!c.minWidth&&(c.minWidth=s.minWidth),s.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=s.minWidth))}})}function Te(n,e,r){for(var t=e,o=n.reduce(function(x,u){return x+u.wrappedWidth},0),a=0;a<n.length;a++){var l=n[a],d=l.wrappedWidth/o,c=t*d,s=l.width+c,p=r(l),h=s<p?p:s;e-=h-l.width,l.width=h}if(e=Math.round(e*1e10)/1e10,e){var f=n.filter(function(x){return e<0?x.width>r(x):!0});f.length&&(e=Te(f,e,r))}return e}function Kt(n){for(var e={},r=1,t=n.allRows(),o=0;o<t.length;o++)for(var a=t[o],l=0,d=n.columns;l<d.length;l++){var c=d[l],s=e[c.index];if(r>1)r--,delete a.cells[c.index];else if(s)s.cell.height+=a.height,r=s.cell.colSpan,delete a.cells[c.index],s.left--,s.left<=1&&delete e[c.index];else{var p=a.cells[c.index];if(!p)continue;if(p.height=a.height,p.rowSpan>1){var h=t.length-o,f=p.rowSpan>h?h:p.rowSpan;e[c.index]={cell:p,left:f,row:a}}}}}function Jt(n){for(var e=n.allRows(),r=0;r<e.length;r++)for(var t=e[r],o=null,a=0,l=0,d=0;d<n.columns.length;d++){var c=n.columns[d];if(l-=1,l>1&&n.columns[d+1])a+=c.width,delete t.cells[c.index];else if(o){var s=o;delete t.cells[c.index],o=null,s.width=c.width+a}else{var s=t.cells[c.index];if(!s)continue;if(l=s.colSpan,a=0,s.colSpan>1){o=s,a+=c.width;continue}s.width=c.width+a}}}function Zt(n,e){for(var r={count:0,height:0},t=0,o=n.allRows();t<o.length;t++){for(var a=o[t],l=0,d=n.columns;l<d.length;l++){var c=d[l],s=a.cells[c.index];if(s){e.applyStyles(s.styles,!0);var p=s.width-s.padding("horizontal");if(s.styles.overflow==="linebreak")s.text=e.splitTextToSize(s.text,p+1/e.scaleFactor(),{fontSize:s.styles.fontSize});else if(s.styles.overflow==="ellipsize")s.text=Pe(s.text,p,s.styles,e,"...");else if(s.styles.overflow==="hidden")s.text=Pe(s.text,p,s.styles,e,"");else if(typeof s.styles.overflow=="function"){var h=s.styles.overflow(s.text,p);typeof h=="string"?s.text=[h]:s.text=h}s.contentHeight=s.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var f=s.contentHeight/s.rowSpan;s.rowSpan>1&&r.count*r.height<f*s.rowSpan?r={height:f,count:s.rowSpan}:r&&r.count>0&&r.height>f&&(f=r.height),f>a.height&&(a.height=f)}}r.count--}}function Pe(n,e,r,t,o){return n.map(function(a){return Xt(a,e,r,t,o)})}function Xt(n,e,r,t,o){var a=1e4*t.scaleFactor();if(e=Math.ceil(e*a)/a,e>=ue(n,r,t))return n;for(;e<ue(n+o,r,t)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+o}function tt(n,e){var r=new se(n),t=Qt(e,r.scaleFactor()),o=new Vt(e,t);return $t(r,o),r.applyStyles(r.userStyles),o}function Qt(n,e){var r=n.content,t=en(r.columns);if(r.head.length===0){var o=Ne(t,"head");o&&r.head.push(o)}if(r.foot.length===0){var o=Ne(t,"foot");o&&r.foot.push(o)}var a=n.settings.theme,l=n.styles;return{columns:t,head:Ce("head",r.head,t,l,a,e),body:Ce("body",r.body,t,l,a,e),foot:Ce("foot",r.foot,t,l,a,e)}}function Ce(n,e,r,t,o,a){var l={},d=e.map(function(c,s){for(var p=0,h={},f=0,x=0,u=0,C=r;u<C.length;u++){var E=C[u];if(l[E.index]==null||l[E.index].left===0)if(x===0){var g=void 0;Array.isArray(c)?g=c[E.index-f-p]:g=c[E.dataKey];var y={};typeof g=="object"&&!Array.isArray(g)&&(y=g?.styles||{});var A=tn(n,E,s,o,t,a,y),z=new et(g,A,n);h[E.dataKey]=z,h[E.index]=z,x=z.colSpan-1,l[E.index]={left:z.rowSpan-1,times:x}}else x--,f++;else l[E.index].left--,x=l[E.index].times,p++}return new qe(c,s,n,h)});return d}function Ne(n,e){var r={};return n.forEach(function(t){if(t.raw!=null){var o=qt(e,t.raw);o!=null&&(r[t.dataKey]=o)}}),Object.keys(r).length>0?r:null}function qt(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function en(n){return n.map(function(e,r){var t,o;return typeof e=="object"?o=(t=e.dataKey)!==null&&t!==void 0?t:r:o=r,new Gt(o,e,r)})}function tn(n,e,r,t,o,a,l){var d=Rt(t),c;n==="head"?c=o.headStyles:n==="body"?c=o.bodyStyles:n==="foot"&&(c=o.footStyles);var s=Y({},d.table,d[n],o.styles,c),p=o.columnStyles[e.dataKey]||o.columnStyles[e.index]||{},h=n==="body"?p:{},f=n==="body"&&r%2===0?Y({},d.alternateRow,o.alternateRowStyles):{},x=It(a),u=Y({},x,s,f,h);return Y(u,l)}function nn(n,e,r){var t;r===void 0&&(r={});var o=Je(n,e),a=new Map,l=[],d=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(f){var x=e.columns.find(function(u){return u.dataKey===f||u.index===f});x&&!a.has(x.index)&&(a.set(x.index,!0),l.push(x.index),d.push(e.columns[x.index]),o-=x.wrappedWidth)});for(var s=!0,p=(t=r?.start)!==null&&t!==void 0?t:0;p<e.columns.length;){if(a.has(p)){p++;continue}var h=e.columns[p].wrappedWidth;if(s||o>=h)s=!1,l.push(p),d.push(e.columns[p]),o-=h;else break;p++}return{colIndexes:l,columns:d,lastIndex:p-1}}function rn(n,e){for(var r=[],t=0;t<e.columns.length;t++){var o=nn(n,e,{start:t});o.columns.length&&(r.push(o),t=o.lastIndex)}return r}function nt(n,e){var r=e.settings,t=r.startY,o=r.margin,a={x:o.left,y:t},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),d=t+o.bottom+l;if(r.pageBreak==="avoid"){var c=e.body,s=c.reduce(function(f,x){return f+x.height},0);d+=s}var p=new se(n);(r.pageBreak==="always"||r.startY!=null&&d>p.pageSize().height)&&(it(p),a.y=o.top),e.callWillDrawPageHooks(p,a);var h=Y({},a);e.startPageNumber=p.pageNumber(),r.horizontalPageBreak?on(p,e,h,a):(p.applyStyles(p.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(f){return K(p,e,f,a,e.columns)}),p.applyStyles(p.userStyles),e.body.forEach(function(f,x){var u=x===e.body.length-1;xe(p,e,f,u,h,a,e.columns)}),p.applyStyles(p.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(f){return K(p,e,f,a,e.columns)})),Ye(p,e,h,a),e.callEndPageHooks(p,a),e.finalY=a.y,n.lastAutoTable=e,p.applyStyles(p.userStyles)}function on(n,e,r,t){var o=rn(n,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")o.forEach(function(s,p){n.applyStyles(n.userStyles),p>0?pe(n,e,r,t,s.columns,!0):Me(n,e,t,s.columns),an(n,e,r,t,s.columns),Ee(n,e,t,s.columns)});else for(var l=-1,d=o[0],c=function(){var s=l;if(d){n.applyStyles(n.userStyles);var p=d.columns;l>=0?pe(n,e,r,t,p,!0):Me(n,e,t,p),s=Le(n,e,l+1,t,p),Ee(n,e,t,p)}var h=s-l;o.slice(1).forEach(function(f){n.applyStyles(n.userStyles),pe(n,e,r,t,f.columns,!0),Le(n,e,l+1,t,f.columns,h),Ee(n,e,t,f.columns)}),l=s};l<e.body.length-1;)c()}function Me(n,e,r,t){var o=e.settings;n.applyStyles(n.userStyles),(o.showHead==="firstPage"||o.showHead==="everyPage")&&e.head.forEach(function(a){return K(n,e,a,r,t)})}function an(n,e,r,t,o){n.applyStyles(n.userStyles),e.body.forEach(function(a,l){var d=l===e.body.length-1;xe(n,e,a,d,r,t,o)})}function Le(n,e,r,t,o,a){n.applyStyles(n.userStyles),a=a??e.body.length;var l=Math.min(r+a,e.body.length),d=-1;return e.body.slice(r,l).forEach(function(c,s){var p=r+s===e.body.length-1,h=rt(n,e,p,t);c.canEntireRowFit(h,o)&&(K(n,e,c,t,o),d=r+s)}),d}function Ee(n,e,r,t){var o=e.settings;n.applyStyles(n.userStyles),(o.showFoot==="lastPage"||o.showFoot==="everyPage")&&e.foot.forEach(function(a){return K(n,e,a,r,t)})}function sn(n,e,r){var t=r.getLineHeight(n.styles.fontSize),o=n.padding("vertical"),a=Math.floor((e-o)/t);return Math.max(0,a)}function ln(n,e,r,t){var o={};n.spansMultiplePages=!0,n.height=0;for(var a=0,l=0,d=r.columns;l<d.length;l++){var c=d[l],s=n.cells[c.index];if(s){Array.isArray(s.text)||(s.text=[s.text]);var p=new et(s.raw,s.styles,s.section);p=Y(p,s),p.text=[];var h=sn(s,e,t);s.text.length>h&&(p.text=s.text.splice(h,s.text.length));var f=t.scaleFactor(),x=t.getLineHeightFactor();s.contentHeight=s.getContentHeight(f,x),s.contentHeight>=e&&(s.contentHeight=e,p.styles.minCellHeight-=e),s.contentHeight>n.height&&(n.height=s.contentHeight),p.contentHeight=p.getContentHeight(f,x),p.contentHeight>a&&(a=p.contentHeight),o[c.index]=p}}var u=new qe(n.raw,-1,n.section,o,!0);u.height=a;for(var C=0,E=r.columns;C<E.length;C++){var c=E[C],p=u.cells[c.index];p&&(p.height=u.height);var s=n.cells[c.index];s&&(s.height=n.height)}return u}function dn(n,e,r,t){var o=n.pageSize().height,a=t.settings.margin,l=a.top+a.bottom,d=o-l;e.section==="body"&&(d-=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns));var c=e.getMinimumRowHeight(t.columns,n),s=c<r;if(c>d)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!s)return!1;var p=e.hasRowSpan(t.columns),h=e.getMaxCellHeight(t.columns)>d;return h?(p&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||t.settings.rowPageBreak==="avoid")}function xe(n,e,r,t,o,a,l){var d=rt(n,e,t,a);if(r.canEntireRowFit(d,l))K(n,e,r,a,l);else if(dn(n,r,d,e)){var c=ln(r,d,e,n);K(n,e,r,a,l),pe(n,e,o,a,l),xe(n,e,c,t,o,a,l)}else pe(n,e,o,a,l),xe(n,e,r,t,o,a,l)}function K(n,e,r,t,o){t.x=e.settings.margin.left;for(var a=0,l=o;a<l.length;a++){var d=l[a],c=r.cells[d.index];if(!c){t.x+=d.width;continue}n.applyStyles(c.styles),c.x=t.x,c.y=t.y;var s=e.callCellHooks(n,e.hooks.willDrawCell,c,r,d,t);if(s===!1){t.x+=d.width;continue}cn(n,c,t);var p=c.getTextPos();Ve(c.text,p.x,p.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,c,r,d,t),t.x+=d.width}t.y+=r.height}function cn(n,e,r){var t=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof t.lineWidth=="number"){var o=Ke(t.lineWidth,t.fillColor);o&&n.rect(e.x,r.y,e.width,e.height,o)}else typeof t.lineWidth=="object"&&(t.fillColor&&n.rect(e.x,r.y,e.width,e.height,"F"),pn(n,e,r,t.lineWidth))}function pn(n,e,r,t){var o,a,l,d;t.top&&(o=r.x,a=r.y,l=r.x+e.width,d=r.y,t.right&&(l+=.5*t.right),t.left&&(o-=.5*t.left),c(t.top,o,a,l,d)),t.bottom&&(o=r.x,a=r.y+e.height,l=r.x+e.width,d=r.y+e.height,t.right&&(l+=.5*t.right),t.left&&(o-=.5*t.left),c(t.bottom,o,a,l,d)),t.left&&(o=r.x,a=r.y,l=r.x,d=r.y+e.height,t.top&&(a-=.5*t.top),t.bottom&&(d+=.5*t.bottom),c(t.left,o,a,l,d)),t.right&&(o=r.x+e.width,a=r.y,l=r.x+e.width,d=r.y+e.height,t.top&&(a-=.5*t.top),t.bottom&&(d+=.5*t.bottom),c(t.right,o,a,l,d));function c(s,p,h,f,x){n.getDocument().setLineWidth(s),n.getDocument().line(p,h,f,x,"S")}}function rt(n,e,r,t){var o=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&r)&&(o+=e.getFootHeight(e.columns)),n.pageSize().height-t.y-o}function pe(n,e,r,t,o,a){o===void 0&&(o=[]),a===void 0&&(a=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(d){return K(n,e,d,t,o)}),e.callEndPageHooks(n,t);var l=e.settings.margin;Ye(n,e,r,t),it(n),e.pageNumber++,t.x=l.left,t.y=l.top,r.y=l.top,e.callWillDrawPageHooks(n,t),e.settings.showHead==="everyPage"&&(e.head.forEach(function(d){return K(n,e,d,t,o)}),n.applyStyles(n.userStyles))}function it(n){var e=n.pageNumber();n.setPage(e+1);var r=n.pageNumber();return r===e?(n.addPage(),!0):!1}function fn(n){n.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=e[0],o=Qe(this,t),a=tt(this,o);return nt(this,a),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,r,t,o){Ve(e,r,t,o,this)},n.API.autoTableSetDefaults=function(e){return se.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,r){se.setDefaults(e,r)},n.API.autoTableHtmlToJson=function(e,r){var t;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var o=new se(this),a=Xe(o,e,window,r,!1),l=a.head,d=a.body,c=((t=l[0])===null||t===void 0?void 0:t.map(function(s){return s.content}))||[];return{columns:c,rows:d,data:d}}}var Ae;function ke(n,e){var r=Qe(n,e),t=tt(n,r);nt(n,t)}try{if(typeof window<"u"&&window){var We=window,ze=We.jsPDF||((Ae=We.jspdf)===null||Ae===void 0?void 0:Ae.jsPDF);ze&&fn(ze)}}catch(n){console.error("Could not apply autoTable plugin",n)}const hn=(n,e,r)=>{const t=new mt;t.setFillColor(5,10,16),t.rect(0,0,210,40,"F"),t.setTextColor(0,240,255),t.setFontSize(22),t.setFont("helvetica","bold"),t.text("TESO FINANCIAL ENGINE",15,20),t.setFontSize(10),t.setTextColor(200,200,200),t.text("CERTIFICADO DE RESILIENCIA FINANCIERA",15,30),t.setTextColor(255,255,255),t.text(`FECHA: ${new Date().toLocaleDateString()}`,160,20),t.text(`ID: ${Math.floor(Math.random()*1e5)}`,160,26),t.setTextColor(0,0,0),t.setFontSize(14),t.text("1. ESCENARIO SIMULADO (WAR ROOM)",15,55),ke(t,{startY:60,head:[["PARAMETRO","VALOR CONFIGURADO","IMPACTO"]],body:[["D√≠as Cartera (CxC)",`${n.cxcDays} D√≠as`,"Ciclo de Cobro"],["Frecuencia N√≥mina (CxP)",`${n.cxpFreq} D√≠as`,"Presi√≥n de Caja"],["Factor Crecimiento",`${n.growth}x`,"Volumen Operativo"]],theme:"grid",headStyles:{fillColor:[50,50,50]}});const o=t.lastAutoTable.finalY+15;t.setFontSize(14),t.text("2. RESULTADO DE ESTR√âS",15,o);const a=e.status==="INSOLVENT"?[239,68,68]:[5,150,105];t.setFillColor(...a),t.rect(15,o+5,180,25,"F"),t.setTextColor(255,255,255),t.setFontSize(16),t.setFont("helvetica","bold"),t.text(`ESTADO: ${e.status}`,25,o+18),t.setFontSize(12),t.setFont("helvetica","normal"),t.text(`CASH RUNWAY: ${e.runway}`,120,o+18),t.setTextColor(0,0,0);const l=o+40;t.text("3. M√âTRICAS CLAVE",15,l),ke(t,{startY:l+5,body:[["Cash Flow M√≠nimo",new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(e.minCash)],["D√≠a de Quiebra Est.",e.insolvencyDay||"N/A"],["Margen Operativo",`${r.marginPercent}%`],["Ingresos Proyectados",new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(r.totalRevenue)]],theme:"striped"}),t.setFontSize(8),t.setTextColor(100,100,100);const d=t.internal.pageSize.height;return t.text("Este documento es generado autom√°ticamente por la IA de Teso.",15,d-15),t.text("La validez de este certificado depende de la integridad de los datos de entrada.",15,d-10),t},gn=async(n,e,r)=>{try{await fetch("https://teso-api-dev.fly.dev/api/audit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:n,action:e,details:r})}),console.log(`[AUDIT] Logged: ${e}`)}catch(t){console.warn("[AUDIT] Failed to log event",t)}},ce=({variant:n="primary",size:e="md",icon:r,className:t="",children:o,style:a={},...l})=>{const d={fontFamily:"var(--font-main)",fontWeight:"bold",cursor:"pointer",border:"none",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"var(--spacing-sm)",transition:"all 0.2s ease",textTransform:"uppercase",letterSpacing:"0.5px",...a},c={primary:{background:"var(--color-primary)",color:"#000",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-glow-blue)"},danger:{background:"transparent",border:"1px solid var(--color-kpi-danger)",color:"var(--color-kpi-danger)",borderRadius:"var(--radius-lg)",boxShadow:"none"},dangerSolid:{background:"var(--color-kpi-danger)",color:"#fff",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-glow-red)"},glass:{background:"rgba(15, 23, 42, 0.6)",border:"1px solid var(--color-border-subtle)",color:"#ffffff",borderRadius:"var(--radius-md)",backdropFilter:"blur(4px)",textShadow:"0 2px 4px #000000"},ghost:{background:"transparent",color:"var(--color-text-secondary)",border:"none",padding:0},active:{background:"var(--color-kpi-positive)",color:"#000",borderRadius:"var(--radius-sm)"}},s={sm:{padding:"4px 10px",fontSize:"var(--text-xs)",borderRadius:n==="danger"?"var(--radius-lg)":"var(--radius-sm)"},md:{padding:"8px 16px",fontSize:"var(--text-sm)"},lg:{padding:"12px 24px",fontSize:"var(--text-md)"}},p={...d,...c[n],...s[e],...a};return i.jsxs("button",{style:p,className:`teso-btn teso-btn-${n} ${t}`,...l,children:[r&&i.jsx("span",{style:{display:"flex",alignItems:"center"},children:r}),o]})},he=6.2442,ge=-75.5812;console.log("‚úÖ CoreOperativo Loaded. Center:",he,ge);const un=({p:n})=>i.jsx(fe,{position:[n.lat,n.lng],icon:wt(n.heading),zIndexOffset:1e3,eventHandlers:{mouseover:e=>e.target.openTooltip(),mouseout:e=>e.target.closeTooltip()},children:i.jsx(Tt,{direction:"top",offset:[0,-10],opacity:1,sticky:!0,children:i.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.95)",border:"1px solid #334155",borderRadius:"6px",padding:"10px",minWidth:"160px",color:"#fff",boxShadow:"0 10px 20px rgba(0,0,0,0.5)",fontFamily:"sans-serif"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #334155",paddingBottom:"6px",marginBottom:"6px"},children:[i.jsx("span",{style:{fontWeight:"900",color:"#38bdf8",fontSize:"0.9rem"},children:n.id}),i.jsx("span",{style:{fontSize:"0.6rem",background:"#10b981",padding:"2px 6px",borderRadius:"10px",color:"#fff",fontWeight:"bold",border:"1px solid #059669"},children:"IN FLIGHT"})]}),i.jsxs("div",{style:{fontSize:"0.75rem",lineHeight:"1.5",color:"#e2e8f0"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"2px"},children:[i.jsx("span",{style:{color:"#94a3b8"},children:"Ruta:"}),i.jsxs("span",{style:{fontWeight:"bold"},children:[n.from," ‚ûî MDE"]})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsxs("span",{children:["üì° ",n.alt.toLocaleString()," ft"]}),i.jsxs("span",{children:["üöÄ ",n.spd," kts"]})]}),i.jsxs("div",{style:{marginTop:"6px",paddingTop:"6px",borderTop:"1px solid #334155",color:"#94a3b8",fontSize:"0.7rem",display:"flex",alignItems:"center",gap:"4px"},children:[i.jsx("span",{children:"‚úàÔ∏è"})," ",n.airline," Airlines ‚Ä¢ B737"]})]})]})})}),He=(n,e)=>{const r=["AA","AV","LA","CM","NK","IB","DL","AM"],t=["MIA","MAD","BOG","PTY","JFK","SCL","LIM","MEX"];let o,a,l,d;!n||!n.getSouth||!n.isValid()?(o=6,a=6.4,l=-75.7,d=-75.3):(o=n.getSouth(),a=n.getNorth(),l=n.getWest(),d=n.getEast());const c=e&&typeof e.lat=="number"?e:{lat:6.2442,lng:-75.5812},s=a-o,p=d-l,h=s*.8,f=p*.8,x=Math.floor(Math.random()*4);let u,C;x===0?(u=a+h,C=l+Math.random()*p):x===1?(u=o-h,C=l+Math.random()*p):x===2?(u=o+Math.random()*s,C=l-f):(u=o+Math.random()*s,C=d+f);const E=c.lat+(Math.random()-.5)*(s*.3),g=c.lng+(Math.random()-.5)*(p*.3),y=Math.atan2(g-C,E-u)*(180/Math.PI),A=s*.0015+Math.random()*(s*.001);return{id:`${r[Math.floor(Math.random()*r.length)]}${Math.floor(100+Math.random()*900)}`,airline:r[Math.floor(Math.random()*r.length)],from:t[Math.floor(Math.random()*t.length)],lat:u,lng:C,heading:y,speed:A,alt:1e4+Math.floor(Math.random()*5e3),spd:300+Math.floor(Math.random()*200)}},xn=({setPlanes:n})=>{const e=_e();return b.useEffect(()=>{if(!e)return;const t=setInterval(()=>{try{if(!e||!e._leaflet_id)return;const o=e.getBounds(),a=e.getCenter(),l=o.pad(2);n(d=>{let c=[...d];if(c.length<15)for(;c.length<15;)console.log("‚úàÔ∏è Spawning New Plane..."),c.push(He(o,a));return c.map(s=>{const p=s.lat+Math.cos(s.heading*Math.PI/180)*s.speed,h=s.lng+Math.sin(s.heading*Math.PI/180)*s.speed;return l.contains([p,h])?{...s,lat:p,lng:h}:He(o,a)})})}catch{}},80);return()=>clearInterval(t)},[e,n]),null};function vn({onClose:n,onHome:e,command:r,simulationData:t,activeLayers:o}){const[a,l]=b.useState([]),[d,c]=b.useState([]),[s,p]=b.useState([]);b.useEffect(()=>{if(t&&t.services){const x=t.services.slice(0,15).map((u,C)=>({id:u.plate||`V-0${C+10}`,lat:u.lat||he+(Math.random()-.5)*.05,lng:u.lng||ge+(Math.random()-.5)*.05,status:u.status==="COMPLETED"?"ACTIVE":"IDLE",speed:Math.floor(Math.random()*60)+20,target:null,driver:u.driver_name}));l(x)}else l(Array.from({length:15}).map((f,x)=>({id:`V-0${x+10}`,lat:he+(Math.random()-.5)*.06,lng:ge+(Math.random()-.5)*.06,status:"ACTIVE",speed:30})))},[t]),b.useEffect(()=>{(r?.type||r)==="DISPATCH_WAVE"&&(l(x=>x.map(u=>({...u,status:"DISPATCHED",target:{lat:u.lat+(Math.random()-.5)*.02,lng:u.lng+(Math.random()-.5)*.02},speed:Math.floor(Math.random()*40)+60}))),console.log("üåä DISPATCH WAVE EXECUTED: Units Mobilized."))},[r]);const h=({cmd:f})=>{const x=_e();return b.useEffect(()=>{f&&f.type==="FLY_TO"&&f.payload&&(console.log("‚úàÔ∏è FLYING TO:",f.payload),x.flyTo([f.payload.lat,f.payload.lng],15,{duration:2,easeLinearity:.25}),x.openPopup(jt.popup().setLatLng([f.payload.lat,f.payload.lng]).setContent(`Target: ${f.payload.id||"Location"}`)))},[f,x]),null};return b.useEffect(()=>{const f=setInterval(()=>{l(x=>x.map(u=>u.status==="ACTIVE"||u.status==="DISPATCHED"?{...u,lat:u.lat+(Math.random()-.5)*.0015,lng:u.lng+(Math.random()-.5)*.0015,speed:Math.max(20,Math.floor(Math.random()*70))}:u))},1e3);return()=>clearInterval(f)},[]),b.useEffect(()=>{console.log("‚úàÔ∏è [CoreOperativo] Active Planes:",s.length),s.length>0&&console.log("‚úàÔ∏è [CoreOperativo] Sample Plane:",s[0])},[s]),i.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:i.jsxs(bt,{center:[he,ge],zoom:13,style:{height:"100%",width:"100%"},zoomControl:!1,attributionControl:!1,children:[i.jsx(St,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'¬© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),i.jsx(h,{cmd:r}),i.jsx(xn,{setPlanes:p}),(!o||o.includes("FLEET"))&&a.map(f=>i.jsx(fe,{position:[f.lat,f.lng],icon:Ct,children:i.jsx(Fe,{children:i.jsx("strong",{children:f.id})})},f.id)),(!o||o.includes("JOBS"))&&d.map(f=>i.jsx(fe,{position:[f.lat,f.lng],icon:Et},f.id)),[{id:"MDE",lat:6.17,lng:-75.43,code:"JMC"},{id:"EOH",lat:6.22,lng:-75.59,code:"EOH"}].map(f=>i.jsx(fe,{position:[f.lat,f.lng],icon:At(f.code),children:i.jsx(Fe,{children:f.code})},f.id)),s.map(f=>i.jsx(un,{p:f,isSelected:!1},f.id))]})})}function ot({activeTab:n,onTabChange:e}){const r=[{id:"FLOTA",icon:"üöô",label:"FLOTA"},{id:"ORDENES",icon:"üì¶",label:"ORDENES"},{id:"VUELOS",icon:"‚úàÔ∏è",label:"VUELOS"},{id:"CLIENTES",icon:"üè¢",label:"CLIENTES"},{id:"AGENDA",icon:"üìÖ",label:"AGENDA"},{id:"FINANZAS",icon:"üí∞",label:"FINANZAS"},{id:"MERCADO",icon:"üì¢",label:"MERCADO"},{id:"CORE_V4",icon:"üîã",label:"CORE v4.8 LIVE"},{id:"ARTEFACTO",icon:"üß¨",label:"GEMINI AI"}];return i.jsx("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:"6px",padding:"5px"},children:r.map(t=>i.jsxs("button",{onClick:()=>e(t.id),style:{background:n===t.id?"linear-gradient(180deg, rgba(6, 182, 212, 0.25) 0%, rgba(8, 145, 178, 0.05) 100%)":"linear-gradient(180deg, rgba(71, 85, 105, 0.2) 0%, rgba(15, 23, 42, 0.4) 100%)",backdropFilter:"blur(8px)",border:n===t.id?"1px solid #06b6d4":"1px solid rgba(255, 255, 255, 0.1)",color:n===t.id?"#00ffff":"#ffffff",padding:"6px 12px",borderRadius:"12px",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",fontSize:"0.75rem",fontWeight:"900",textShadow:"0 2px 4px #000000, 0 0 2px #000000",transition:"all 0.2s",boxShadow:n===t.id?"0 0 15px rgba(6, 182, 212, 0.3)":"0 2px 4px rgba(0,0,0,0.2)"},children:[i.jsx("span",{children:t.icon}),i.jsx("span",{children:t.label})]},t.id))})}const yn=Ue.lazy(()=>Dt(()=>import("./GeminiConsultantArtifact.Bsi613ne.js"),__vite__mapDeps([0,1,2]))),mn=({activeLayers:n,onToggle:e})=>{const r=t=>{if(t.id==="C_GIT")return window.open("https://github.com/GuillermoHoyos/teso_core","_blank");if(t.id==="PITCH")return window.dispatchEvent(new Event("SHOW_PITCH"));if(t.id==="WHATSAPP")return window.open("https://wa.me/573001234567?text=Hola%20TESO%20AI","_blank");e(t.id)};return i.jsx("div",{style:{position:"absolute",top:"75px",left:"20px",bottom:"100px",display:"flex",flexDirection:"column",gap:"8px",zIndex:400,overflowY:"auto",scrollbarWidth:"none"},children:[{id:"RADAR",label:"RADAR JMC",icon:"üì°",color:"#a855f7"},{id:"VISION",label:"VISI√ìN IA",icon:"üß†",color:"#ec4899"},{id:"OPTIMIZE",label:"OPTIMIZE",icon:"üìà",color:"#f59e0b"},{id:"JOBS",label:"PEDIDOS",icon:"üî•",color:"#ef4444"},{id:"FLEET",label:"FLOTA V4",icon:"üöô",color:"#39FF14"},{id:"PITCH",label:"PITCH DECK",icon:"üì¢",color:"#ec4899"},{id:"WHATSAPP",label:"WHATSAPP",icon:"üí¨",color:"#22c55e"},{id:"C_GIT",label:"SOURCE GIT",icon:"üëæ",color:"#64748b"}].map((t,o)=>{const a=n.includes(t.id);return i.jsxs("div",{onClick:()=>r(t),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",opacity:a||["PITCH","WHATSAPP","C_GIT"].includes(t.id)?1:.8,transition:"all 0.2s",background:a?"linear-gradient(90deg, rgba(6, 182, 212, 0.25) 0%, rgba(8, 145, 178, 0.05) 100%)":"rgba(15, 23, 42, 0.5)",backdropFilter:"blur(8px)",border:a?`1px solid ${t.color}`:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"10px",padding:"6px 10px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",width:"fit-content",marginBottom:"6px"},children:[i.jsx("div",{style:{fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center",filter:`drop-shadow(0 0 5px ${t.color})`},children:t.icon}),i.jsx("div",{style:{color:"#fff",fontSize:"0.65rem",fontWeight:"bold",letterSpacing:"0.5px",fontFamily:"var(--font-main)",textShadow:"0 2px 4px #000"},children:t.label})]},o)})})},bn=({simulationData:n,activeView:e,onDispatch:r,planes:t})=>{const[o,a]=b.useState(null),[l,d]=b.useState(null);b.useEffect(()=>{const s=async()=>{try{const x=await(await fetch("https://teso-api-dev.fly.dev/api/strategic-cycle",{method:"POST"})).json();a(x)}catch{}};s();const p=setInterval(s,1e4);return()=>clearInterval(p)},[]);const c=()=>{switch(e){case"FINANZAS":const s=n?.services||[],p=s.reduce((g,y)=>g+(y.financials?.totalValue||0),0),h=s.reduce((g,y)=>g+(y.financials?.totalCost||(y.financials?.totalValue||0)*.8),0),f=p-h,x=p>0?(f/p*100).toFixed(1):0;return i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[i.jsxs("div",{style:{background:"rgba(6, 182, 212, 0.1)",border:"1px solid #06b6d4",padding:"15px",borderRadius:"8px"},children:[i.jsx("div",{style:{fontSize:"0.8rem",color:"#06b6d4",marginBottom:"5px"},children:"INGRESOS TOTALES"}),i.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"#fff"},children:["$",(p/1e6).toFixed(2),"M"]}),i.jsxs("div",{style:{fontSize:"0.7rem",color:"#39FF14"},children:["‚ñ≤ ",s.length," Operaciones"]})]}),i.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",padding:"15px",borderRadius:"8px"},children:[i.jsx("div",{style:{fontSize:"0.8rem",color:"#ef4444",marginBottom:"5px"},children:"COSTOS OPERATIVOS"}),i.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"#fff"},children:["$",(h/1e6).toFixed(2),"M"]}),i.jsxs("div",{style:{fontSize:"0.7rem",color:"#ef4444"},children:["‚ñº ",x,"% Margen Neto"]})]}),i.jsx("div",{style:{height:"150px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"10px",display:"flex",alignItems:"flex-end",justifyContent:"space-between"},children:s.slice(0,7).map((g,y)=>{const A=Math.min(100,Math.max(10,(g.financials?.totalValue||0)/2e5*100));return i.jsx("div",{style:{width:"10%",height:`${A}%`,background:y===6?"#39FF14":"#334155",borderRadius:"4px 4px 0 0"}},y)})}),i.jsx("button",{style:{background:"#06b6d4",border:"none",padding:"10px",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"DESCARGAR REPORTE"})]});case"MERCADO":return i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[i.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"15px",borderRadius:"8px",borderLeft:"3px solid #F59E0B"},children:[i.jsx("div",{style:{color:"#F59E0B",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"10px"},children:"MARKET SHARE (Tiempo Real)"}),i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"5px"},children:[i.jsx("span",{style:{color:"#fff"},children:"TESO (Nosotros)"}),i.jsx("span",{style:{color:"#39FF14",fontWeight:"bold"},children:"42% ‚ñ≤"})]}),i.jsx("div",{style:{width:"100%",height:"6px",background:"#334155",borderRadius:"3px",marginBottom:"15px",overflow:"hidden"},children:i.jsx("div",{style:{width:"42%",height:"100%",background:"#39FF14"}})}),i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"5px"},children:[i.jsx("span",{style:{color:"#94a3b8"},children:"Uber / InDrive"}),i.jsx("span",{style:{color:"#ef4444",fontWeight:"bold"},children:"35% ‚ñº"})]}),i.jsx("div",{style:{width:"100%",height:"6px",background:"#334155",borderRadius:"3px",overflow:"hidden"},children:i.jsx("div",{style:{width:"35%",height:"100%",background:"#ef4444"}})})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[i.jsxs("div",{style:{background:"rgba(6, 182, 212, 0.1)",padding:"10px",borderRadius:"8px",textAlign:"center",border:"1px solid rgba(6, 182, 212, 0.3)"},children:[i.jsx("div",{style:{fontSize:"1.5rem"},children:"üî•"}),i.jsx("div",{style:{color:"#00F0FF",fontWeight:"bold",fontSize:"0.9rem"},children:"ALTA DEMANDA"}),i.jsx("div",{style:{color:"#94a3b8",fontSize:"0.7rem"},children:"Zona: El Poblado"})]}),i.jsxs("div",{style:{background:"rgba(168, 85, 247, 0.1)",padding:"10px",borderRadius:"8px",textAlign:"center",border:"1px solid rgba(168, 85, 247, 0.3)"},children:[i.jsx("div",{style:{fontSize:"1.5rem"},children:"‚õàÔ∏è"}),i.jsx("div",{style:{color:"#A855F7",fontWeight:"bold",fontSize:"0.9rem"},children:"CLIMA"}),i.jsx("div",{style:{color:"#94a3b8",fontSize:"0.7rem"},children:"Lluvias Fuertes"})]})]})]});case"CORE_V4":return i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",fontFamily:"monospace"},children:[i.jsx("div",{style:{color:"#39FF14",fontSize:"0.8rem",borderBottom:"1px solid #333",paddingBottom:"5px"},children:"> SIMULATION ENGINE V4.8"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[i.jsxs("div",{style:{background:"#111",padding:"10px",borderRadius:"4px"},children:[i.jsx("div",{style:{color:"#888",fontSize:"0.7rem"},children:"TPS (Ticks/Sec)"}),i.jsx("div",{style:{color:"#00F0FF",fontSize:"1.2rem"},children:"59.94"})]}),i.jsxs("div",{style:{background:"#111",padding:"10px",borderRadius:"4px"},children:[i.jsx("div",{style:{color:"#888",fontSize:"0.7rem"},children:"ENTITIES"}),i.jsx("div",{style:{color:"#F59E0B",fontSize:"1.2rem"},children:"14,502"})]})]}),i.jsxs("div",{style:{background:"#0a0a0a",padding:"10px",borderRadius:"4px",height:"200px",overflowY:"auto",fontSize:"0.7rem",color:"#666"},children:[Array.from({length:10}).map((g,y)=>i.jsxs("div",{style:{marginBottom:"4px"},children:[i.jsxs("span",{style:{color:"#333"},children:["[15:4",y,":",10+y,"]"]})," ",i.jsxs("span",{style:{color:"#aaa"},children:["INFO: Processing batch #",3920+y,"..."]})]},y)),i.jsx("div",{style:{color:"#39FF14"},children:"_cursor_active"})]}),i.jsx("button",{style:{background:"#ef4444",border:"none",color:"#fff",padding:"10px",fontWeight:"bold",cursor:"pointer",borderRadius:"4px"},children:"EMERGENCY DUMP"})]});case"ORDENES":return i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[n?.services?.slice(0,50).map((g,y)=>{const A=g.status==="completed",z=y<5?"EN RUTA":A?"FINALIZADO":"PENDIENTE",H=y<5?"#39FF14":A?"#64748b":"#f59e0b";return i.jsxs("div",{onMouseEnter:()=>d(g),onMouseLeave:()=>d(null),style:{display:"flex",flexDirection:"column",padding:"12px",background:"rgba(255,255,255,0.03)",borderLeft:`3px solid ${H}`,borderRadius:"6px",marginBottom:"8px",cursor:"pointer",transition:"background 0.2s"},onMouseOver:B=>B.currentTarget.style.background="rgba(255,255,255,0.08)",onMouseOut:B=>B.currentTarget.style.background="rgba(255,255,255,0.03)",onClick:()=>r&&r({type:"FLY_TO",payload:g}),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px",alignItems:"center"},children:[i.jsx("span",{style:{color:"#fff",fontWeight:"bold",fontSize:"0.95rem",letterSpacing:"0.5px"},children:g.company||g.client||g.paxName||g.clientId||"Cliente Corporativo"}),i.jsx("span",{style:{color:"#bef264",fontSize:"0.75rem",fontWeight:"bold",background:"rgba(190, 242, 100, 0.1)",padding:"2px 6px",borderRadius:"4px"},children:g.time||"PEND"})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("span",{style:{color:"#94a3b8",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"5px"},children:[i.jsxs("span",{style:{color:"#64748b"},children:["#",g.id]}),i.jsx("span",{children:"‚Ä¢"}),i.jsx("span",{children:g.route||"Zona Metropolitana"})]}),i.jsx("span",{style:{color:H,fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase"},children:z})]})]},y)}),(!n?.services||n.services.length===0)&&i.jsx("div",{style:{color:"#64748b",padding:"20px",textAlign:"center"},children:"No hay ordenes activas."})]});case"VUELOS":return i.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[i.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #333",marginBottom:"15px"},children:[i.jsx("button",{style:{flex:1,background:"rgba(6, 182, 212, 0.1)",color:"#00F0FF",borderBottom:"2px solid #00F0FF",borderTop:"none",borderLeft:"none",borderRight:"none",padding:"10px",fontWeight:"bold",cursor:"pointer"},children:"LLEGADAS"}),i.jsx("button",{style:{flex:1,background:"transparent",color:"#666",border:"none",padding:"10px",cursor:"pointer"},children:"SALIDAS"})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0 10px 5px",color:"#666",fontSize:"0.65rem",fontWeight:"bold",textTransform:"uppercase"},children:[i.jsx("span",{children:"Hora / Vuelo"}),i.jsx("span",{children:"Origen"}),i.jsx("span",{children:"Est"})]}),(t&&t.length>0?t.slice(0,10):[{time:"14:35",id:"AA960",city:"MIAMI",status:"ATERRIZ√ì",color:"#39FF14"},{time:"14:51",id:"IB908",city:"BOGOTA",status:"ATERRIZ√ì",color:"#39FF14"},{time:"15:07",id:"LA219",city:"LIMA",status:"EN APROX",color:"#00F0FF",blink:!0}]).map((g,y)=>{const A=g.airline!==void 0,z=A?"LIVE":g.time,H=g.id,B=A?g.from:g.city,ye=A?"EN AIRE":g.status,U=A?"#00F0FF":g.color;return i.jsxs("div",{onClick:()=>A&&r&&r({type:"FLY_TO",payload:g}),style:{display:"flex",justifyContent:"space-between",padding:"12px 10px",borderBottom:"1px solid #222",alignItems:"center",background:y%2===0?"rgba(255,255,255,0.02)":"transparent",cursor:A?"pointer":"default"},onMouseOver:ne=>A&&(ne.currentTarget.style.background="rgba(6, 182, 212, 0.1)"),onMouseOut:ne=>A&&(ne.currentTarget.style.background=y%2===0?"rgba(255,255,255,0.02)":"transparent"),children:[i.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[i.jsx("span",{style:{color:"#fff",fontWeight:"bold",fontSize:"0.9rem"},children:z}),i.jsx("span",{style:{color:"#00F0FF",fontSize:"0.75rem",fontWeight:"bold"},children:H})]}),i.jsx("span",{style:{color:"#ccc",fontSize:"0.8rem"},children:B}),i.jsx("span",{style:{color:U,fontWeight:"bold",fontSize:"0.7rem",padding:"2px 6px",background:`${U}20`,borderRadius:"4px",border:`1px solid ${U}40`},children:ye})]},y)})]});case"CLIENTES":const u={};(n?.services||[]).forEach(g=>{const y=g.company||g.client||"PARTICULAR";u[y]||(u[y]={count:0,revenue:0,active:0}),u[y].count++,u[y].revenue+=g.financials?.totalValue||0,g.status!=="completed"&&g.status!=="cancelled"&&u[y].active++});const C=Object.entries(u).map(([g,y])=>({name:g,...y})).sort((g,y)=>y.revenue-g.revenue).slice(0,10);return i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[i.jsxs("div",{style:{color:"#94a3b8",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"10px"},children:["CUENTAS CORPORATIVAS VIP (",C.length,")"]}),C.map((g,y)=>i.jsxs("div",{style:{padding:"15px",background:"rgba(255,255,255,0.03)",borderRadius:"8px",borderLeft:`3px solid ${y<3?"#00F0FF":"#f59e0b"}`},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px"},children:[i.jsx("span",{style:{color:"#fff",fontWeight:"bold"},children:g.name}),i.jsx("span",{style:{color:y<3?"#00F0FF":"#f59e0b",fontSize:"0.65rem",border:`1px solid ${y<3?"#00F0FF":"#f59e0b"}`,padding:"2px 4px",borderRadius:"4px"},children:y<3?"PLATINUM":"GOLD"})]}),i.jsxs("div",{style:{color:"#94a3b8",fontSize:"0.75rem",marginBottom:"8px"},children:["üí∞ $",new Intl.NumberFormat("es-CO").format(g.revenue)," Acumulado"]}),i.jsxs("div",{style:{display:"flex",gap:"10px",fontSize:"0.7rem"},children:[i.jsxs("span",{style:{color:"#39FF14"},children:["‚óè Activos: ",g.active]}),i.jsxs("span",{style:{color:"#64748b"},children:["Total Ops: ",g.count]})]})]},y)),C.length===0&&i.jsx("div",{style:{color:"#666",fontStyle:"italic"},children:"No hay datos de clientes."})]});case"AGENDA":return i.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[i.jsxs("div",{style:{display:"flex",marginBottom:"20px",background:"rgba(255,255,255,0.05)",borderRadius:"20px",padding:"4px"},children:[i.jsx("button",{style:{flex:1,background:"#D946EF",color:"#fff",border:"none",borderRadius:"16px",padding:"8px",fontWeight:"bold",boxShadow:"0 0 10px rgba(217, 70, 239, 0.4)",cursor:"pointer"},children:"HOY"}),i.jsx("button",{style:{flex:1,background:"transparent",color:"#94a3b8",border:"none",padding:"8px",cursor:"pointer",fontWeight:"bold"},children:"SEMANA"})]}),[{time:"09:00 AM",title:"Comit√© Operativo",type:"INTERNAL",color:"#D946EF",icon:"üë•"},{time:"11:30 AM",title:"Reuni√≥n Alcald√≠a",type:"GOBIERNO",color:"#00F0FF",icon:"üèõÔ∏è"},{time:"02:00 PM",title:"Demo EAFIT",type:"PARTNER",color:"#39FF14",icon:"üéì"},{time:"04:00 PM",title:"Onboarding Conductores",type:"TRAINING",color:"#F59E0B",icon:"üöï"}].map((g,y)=>i.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"15px",alignItems:"center"},children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#94a3b8",width:"60px",textAlign:"right",fontWeight:"bold"},children:g.time}),i.jsxs("div",{style:{flex:1,background:"rgba(255,255,255,0.03)",padding:"12px",borderRadius:"12px",borderLeft:`3px solid ${g.color}`,position:"relative",overflow:"hidden"},children:[i.jsx("div",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"1.2rem",opacity:.2},children:g.icon}),i.jsx("div",{style:{color:"#fff",fontWeight:"bold",fontSize:"0.9rem"},children:g.title}),i.jsx("div",{style:{color:g.color,fontSize:"0.65rem",marginTop:"4px",fontWeight:"bold",opacity:.9,letterSpacing:"0.5px"},children:g.type})]})]},y)),i.jsx("div",{style:{marginTop:"20px",padding:"15px",background:"rgba(6, 182, 212, 0.1)",borderRadius:"12px",border:"1px dashed #06b6d4",display:"flex",alignItems:"center",justifyContent:"center",color:"#06b6d4",fontSize:"0.8rem",cursor:"pointer"},children:"+ AGENDAR NUEVO EVENTO"})]});default:const E=n?.vehicles||n?.services?.slice(0,15)||[];return i.jsxs(i.Fragment,{children:[i.jsxs("div",{style:{marginBottom:"20px",display:"flex",flexDirection:"column",gap:"10px"},children:[i.jsx("button",{style:{background:"transparent",border:"1px solid #06b6d4",color:"#06b6d4",padding:"10px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",textTransform:"uppercase",boxShadow:"0 0 10px rgba(6, 182, 212, 0.2)",transition:"all 0.2s"},onClick:()=>console.log("‚è∏ SIMULATION PAUSED (Visual Layer)"),children:"‚è∏ PAUSAR SIMULACI√ìN"}),i.jsx("button",{style:{background:"#06b6d4",border:"none",color:"#000",padding:"10px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",textTransform:"uppercase",boxShadow:"0 0 15px rgba(6, 182, 212, 0.4)",transition:"all 0.2s"},onClick:r,children:"‚ö° DESPACHO INTELIGENTE"})]}),o&&i.jsxs("div",{style:{marginBottom:"20px",border:"1px solid #334155",borderRadius:"8px",padding:"10px",background:"rgba(15, 23, 42, 0.5)"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[i.jsx("div",{style:{color:"#94a3b8",fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase"},children:"üõ°Ô∏è AUTONOMOUS GUARDRAILS"}),i.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#22c55e",boxShadow:"0 0 5px #22c55e"}})]}),i.jsxs("div",{style:{marginBottom:"10px",padding:"8px",background:"rgba(239, 68, 68, 0.1)",borderLeft:"3px solid #ef4444",borderRadius:"0 4px 4px 0"},children:[i.jsx("div",{style:{color:"#ef4444",fontWeight:"bold",fontSize:"0.8rem"},children:"CEO DIRECTIVE:"}),i.jsx("div",{style:{color:"#fff",fontSize:"0.9rem",fontWeight:"bold"},children:o.strategic_alignment?.directive||"ANALYZING..."}),i.jsxs("div",{style:{color:"#94a3b8",fontSize:"0.7rem",marginTop:"4px",fontStyle:"italic"},children:['"',o.strategic_alignment?.reasoning,'"']})]}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"5px"},children:["finance","ops","design"].map(g=>{const y=g==="finance"?o.department_reports?.finance?.executive_summary?.score:g==="ops"?100:o.department_reports?.design_input?.design_audit?.score,A=g==="finance"?"FIN":g==="ops"?"OPS":"UX",z=g==="finance"?"üí∞":g==="ops"?"üöö":"üé®";return i.jsxs("div",{style:{background:"#020617",padding:"8px",borderRadius:"4px",textAlign:"center",border:"1px solid #1e293b"},children:[i.jsx("div",{style:{fontSize:"1.2rem"},children:z}),i.jsxs("div",{style:{fontSize:"0.6rem",fontWeight:"bold",marginTop:"2px",color:(y||0)<70?"#ef4444":"#22c55e"},children:[A," ",y||"ON","%"]})]},g)})})]}),i.jsxs("div",{style:{marginBottom:"20px",position:"relative"},children:[i.jsx("input",{type:"text",placeholder:"Buscar Orden, Unidad, Cliente [ENTER]",style:{width:"100%",background:"#1e293b",border:"1px solid #334155",borderRadius:"4px",padding:"8px 10px",color:"#fff",fontSize:"0.8rem",outline:"none"}}),i.jsx("span",{style:{position:"absolute",right:"10px",top:"8px",color:"#64748b"},children:"üîç"})]}),i.jsxs("div",{style:{flex:1,overflowY:"auto"},children:[i.jsxs("div",{style:{color:"#64748b",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"10px",borderBottom:"1px solid #334155",paddingBottom:"5px"},children:["UNIDADES EN L√çNEA (",E.length,")"]}),E.map((g,y)=>i.jsxs("div",{onMouseEnter:()=>d(g),onMouseLeave:()=>d(null),onClick:()=>r&&r({type:"FLY_TO",payload:g}),style:{background:"rgba(255,255,255,0.03)",padding:"8px",marginBottom:"5px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",transition:"background 0.2s",border:"1px solid transparent"},onMouseOver:A=>{A.currentTarget.style.background="rgba(255,255,255,0.08)",A.currentTarget.style.borderColor="#06b6d4"},onMouseOut:A=>{A.currentTarget.style.background="rgba(255,255,255,0.03)",A.currentTarget.style.borderColor="transparent"},children:[i.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[i.jsx("div",{style:{color:"#fff",fontSize:"0.8rem",fontWeight:"bold"},children:g.id||g.plate||g.vehiclePlate||"TSO-000"}),g.driver&&i.jsx("div",{style:{color:"#94a3b8",fontSize:"0.65rem"},children:g.driver})]}),i.jsx("div",{style:{color:"#39FF14",fontSize:"0.7rem",fontWeight:"bold"},children:g.status==="completed"?"‚úÖ DISPONIBLE":g.status==="ACTIVE"?"üöñ EN SERVICIO":"‚ö° CONECTADO"})]},y))]})]})}};return i.jsxs("div",{style:{width:"350px",background:"rgba(9, 9, 11, 0.95)",borderLeft:"1px solid #334155",display:"flex",flexDirection:"column",padding:"20px",zIndex:50,boxShadow:"-10px 0 40px rgba(0,0,0,0.8)",height:"100%",overflowY:"auto"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[i.jsxs("div",{children:[i.jsxs("h2",{style:{margin:0,color:"#ef4444",fontFamily:"monospace",fontSize:"1.2rem"},children:["TESO ",e]}),i.jsx("div",{style:{fontSize:"0.7rem",color:"#64748b"},children:"PANEL DE CONTROL INTELIGENTE"})]}),i.jsx("div",{style:{width:"30px",height:"30px",borderRadius:"50%",border:"1px solid #ea580c",display:"flex",alignItems:"center",justifyContent:"center",color:"#ea580c",cursor:"pointer"},children:"üè†"})]}),c(),l&&i.jsxs("div",{style:{position:"fixed",top:"20%",right:"370px",width:"300px",background:"rgba(9, 9, 11, 0.98)",border:"1px solid #39FF14",borderRadius:"8px",padding:"20px",zIndex:1e3,boxShadow:"0 0 20px rgba(57, 255, 20, 0.2)",backdropFilter:"blur(10px)",pointerEvents:"none"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px",borderBottom:"1px solid #333",paddingBottom:"10px"},children:[i.jsx("div",{style:{fontSize:"1.2rem"},children:"üìÑ"}),i.jsx("div",{style:{fontWeight:"bold",color:"#fff"},children:"DETALLE DE ORDEN"})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",fontSize:"0.8rem",color:"#ccc"},children:[i.jsxs("div",{children:[i.jsx("span",{style:{color:"#64748b",display:"block",fontSize:"0.7rem"},children:"ID OPERACI√ìN"}),i.jsxs("span",{style:{color:"#39FF14",fontWeight:"bold"},children:["#",l.id]})]}),i.jsxs("div",{children:[i.jsx("span",{style:{color:"#64748b",display:"block",fontSize:"0.7rem"},children:"ESTADO"}),i.jsx("span",{style:{color:l.status==="completed"?"#22c55e":"#f59e0b",fontWeight:"bold",textTransform:"uppercase"},children:l.status==="completed"?"FINALIZADO":l.status||"EN CURSO"})]}),i.jsxs("div",{style:{gridColumn:"span 2"},children:[i.jsx("span",{style:{color:"#64748b",display:"block",fontSize:"0.7rem"},children:"PASAJERO"}),i.jsx("span",{style:{color:"#fff",fontWeight:"bold"},children:l.paxName||l.client||"N/A"})]}),i.jsxs("div",{style:{gridColumn:"span 2"},children:[i.jsx("span",{style:{color:"#64748b",display:"block",fontSize:"0.7rem"},children:"EMPRESA"}),i.jsx("span",{style:{color:"#fff"},children:l.company||"PARTICULAR"})]}),i.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px dashed #333",gridColumn:"span 2",display:"grid",gridTemplateColumns:"1fr 1fr"},children:[i.jsxs("div",{children:[i.jsx("span",{style:{color:"#64748b",display:"block",fontSize:"0.7rem"},children:"CONDUCTOR"}),i.jsx("span",{style:{color:"#fff"},children:l.driverName||"PENDIENTE"})]}),i.jsxs("div",{children:[i.jsx("span",{style:{color:"#64748b",display:"block",fontSize:"0.7rem"},children:"VEH√çCULO"}),i.jsx("span",{style:{color:"#fff"},children:l.vehiclePlate||"TBA"})]})]}),i.jsx("div",{style:{marginTop:"10px",gridColumn:"span 2",background:"rgba(57, 255, 20, 0.05)",padding:"8px",borderRadius:"4px",border:"1px solid rgba(57, 255, 20, 0.2)"},children:i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem"},children:[i.jsx("span",{style:{color:"#39FF14"},children:"PIN SEGURIDAD:"}),i.jsx("span",{style:{color:"#fff",fontWeight:"bold"},children:l.pin||"A-1234"})]})})]})]})]})},Sn=({opsCommand:n,simulationData:e,planes:r})=>{const[t,o]=b.useState("FLOTA"),[a,l]=b.useState(["FLEET","JOBS","RADAR"]),[d,c]=b.useState(!1),[s,p]=b.useState(!0),h=u=>{l(C=>C.includes(u)?C.filter(E=>E!==u):[...C,u])},[f,x]=b.useState(null);return i.jsxs("div",{style:{width:"100%",height:"100%",position:"relative",overflow:"hidden",background:"#000"},children:[i.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1},children:[t!=="ARTEFACTO"&&i.jsx(vn,{command:f||n,simulationData:e,activeLayers:a,planes:r}),t==="ARTEFACTO"&&i.jsx(Ue.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(yn,{onClose:()=>o("FLOTA")})})]}),i.jsx("div",{style:{position:"absolute",top:5,left:60,zIndex:1e3},children:i.jsx(ot,{activeTab:t,onTabChange:o})}),i.jsx(mn,{activeLayers:a,onToggle:h}),t!=="ARTEFACTO"&&i.jsxs("div",{style:{position:"absolute",top:0,right:0,height:"100%",width:s?"350px":"0px",zIndex:500,transition:"width 0.3s ease-in-out",display:"flex"},children:[i.jsx("div",{onClick:()=>p(!s),style:{position:"absolute",left:"-30px",top:"50%",width:"30px",height:"60px",background:"rgba(9, 9, 11, 0.9)",border:"1px solid #334155",borderRadius:"8px 0 0 8px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#06b6d4",zIndex:501},children:s?"‚ñ∂":"‚óÄ"}),i.jsx("div",{style:{width:"350px",height:"100%",transform:s?"translateX(0)":"translateX(350px)",transition:"transform 0.3s"},children:i.jsx(bn,{simulationData:e,activeView:t,planes:r,onDispatch:u=>x(u||{type:"DISPATCH_WAVE",ts:Date.now()})})})]}),i.jsxs("div",{onClick:()=>c(!d),style:{position:"absolute",bottom:"20px",left:"20px",zIndex:1e3,display:"flex",alignItems:"center",gap:"10px",background:"rgba(15, 23, 42, 0.95)",border:"1px solid #06b6d4",borderRadius:"50px",padding:"10px 25px",cursor:"pointer"},children:[i.jsx("div",{style:{fontSize:"1.5rem"},children:"ü§ñ"}),d&&i.jsx("div",{style:{color:"#fff",fontSize:"0.9rem",fontWeight:"bold"},children:"CONSULTOR IA"})]}),d&&i.jsxs("div",{style:{position:"absolute",bottom:"80px",left:"20px",width:"350px",background:"rgba(15, 23, 42, 0.95)",backdropFilter:"blur(10px)",border:"1px solid #334155",borderRadius:"16px",padding:"15px",zIndex:2e3},children:[i.jsx("div",{style:{color:"#94a3b8",marginBottom:"10px"},children:"Panel de Inteligencia Activo"}),["Analizar Situaci√≥n Financiera","Optimizar Rutas","Recomendar Agentes"].map(u=>i.jsxs("div",{onClick:()=>{console.log(`ü§ñ AI AGENT ACTIVATED: ${u}`);const C=document.getElementById("teso-console-log");if(C){const E=document.createElement("div");E.style.color="#06b6d4",E.innerText=`[${new Date().toLocaleTimeString()}] ü§ñ EXECUTING: ${u}...`,C.appendChild(E),C.scrollTop=C.scrollHeight}},style:{padding:"8px",borderBottom:"1px solid #333",cursor:"pointer",color:"#fff"},children:["‚Ä¢ ",u]},u))]})]})},_={provider:"NATIVE",params:{elevenKey:localStorage.getItem("ELEVEN_API_KEY")||"",voiceId:"ErXwobaYiN019PkySvjV",stability:.5,similarity_boost:.75},isMuted:!1,queue:[]};class Cn{constructor(){this.synth=window.speechSynthesis,this.audioContext=new(window.AudioContext||window.webkitAudioContext)}configure(e,r=null){_.provider=e,r&&(_.params.elevenKey=r,localStorage.setItem("ELEVEN_API_KEY",r))}async speak(e,r="INFO"){_.isMuted||(console.log(`üéôÔ∏è [${_.provider}] Speaking:`,e),_.provider==="ELEVEN_LABS"&&_.params.elevenKey?await this.speakElevenLabs(e):this.speakNative(e,r))}speakNative(e,r){this.synth.cancel();let t=1,o=1,a=e;(e.includes("[rapid-fire]")||e.includes("[urgent]"))&&(t=1.5),e.includes("[rushed]")&&(t=1.3),(e.includes("[slow down]")||e.includes("[deliberate]"))&&(t=.85),(e.includes("[happy]")||e.includes("[excited]"))&&(o=1.2),(e.includes("[sad]")||e.includes("[calm]"))&&(o=.9),e.includes("[nervous]")&&(t=1.2,o=1.3),e.includes("[robotic]")&&(t=.9,o=.5),a=a.replace(/\[.*?\]/g,"").trim();const l=new SpeechSynthesisUtterance(a),c=this.synth.getVoices().find(s=>s.lang.includes("es")&&(s.name.includes("Google")||s.name.includes("Premium")));c&&(l.voice=c),l.rate=t,l.pitch=o,this.synth.speak(l)}async speakElevenLabs(e){try{const r=await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${_.params.voiceId}`,{method:"POST",headers:{"Content-Type":"application/json","xi-api-key":_.params.elevenKey},body:JSON.stringify({text:e,model_id:"eleven_multilingual_v2",voice_settings:{stability:_.params.stability,similarity_boost:_.params.similarity_boost}})});if(!r.ok)throw new Error("ElevenLabs API Error");const t=await r.arrayBuffer(),o=await this.audioContext.decodeAudioData(t),a=this.audioContext.createBufferSource();a.buffer=o,a.connect(this.audioContext.destination),a.start(0)}catch(r){console.warn("‚ö†Ô∏è ElevenLabs Failed, falling back to Native:",r),this.speakNative(e,"INFO")}}stop(){this.synth.cancel()}toggleMute(){return _.isMuted=!_.isMuted,_.isMuted}formatText(e,r="neutral"){const o={angry:"[angry]",calm:"[calm]",curious:"[curious]",excited:"[excited]",happy:"[happy]",nervous:"[nervous]",sad:"[sad]",serious:"[understated]",urgent:"[rapid-fire]",announcement:"[loudly]",whisper:"[whispering]",robotic:"[robotic]",professional:"[deliberate]",sigh:"[sighs]",laugh:"[laughs]",breath:"[breathes]"}[r]||"";return o?`${o} ${e}`:e}}const Be=new Cn,En="/documents/invoices/invoice_sier_service.pdf",An="/documents/invoices/invoice_viajes_az.pdf",jn="/documents/invoices/invoice_personal_soft.pdf",_n=({vehicles:n,requests:e,planes:r,initialViewMode:t="LIVE_OPS",onRowClick:o,simulationData:a,onClose:l,onHome:d,onRegenerate:c,onSimulateStress:s,onRunMacro:p})=>{const[h,f]=b.useState(a||null),[x,u]=b.useState(!1),[C,E]=b.useState(null),[g,y]=b.useState(!0),[A,z]=b.useState(null),H=(v,w="professional")=>{if(!g)return;const m=/^\s*\[.*\]/.test(v)?v:Be.formatText(v,w),D=v.includes("[urgent]")||v.includes("[angry]")||w==="urgent"?"CRITICAL":"INFO";Be.speak(m,D)};b.useEffect(()=>{if(!a||!a.details)return;let v=null;a.details?.agent_analysis?.voice_script?v=a.details.agent_analysis.voice_script:a.analysis?.voice_script&&(v=a.analysis.voice_script),v&&(console.log("üó£Ô∏è AGENT SPEAKING:",v),H(v))},[a]),b.useEffect(()=>{const v={current:null},T=setInterval(async()=>{try{const m=await fetch("https://teso-api-dev.fly.dev/api/agently/alerts");if(!m.ok)return;const M=await m.json();if(M.length>0){const D=M[0];if(D.timestamp!==v.current&&(v.current=D.timestamp,console.log("üö® NEW AUTONOMOUS ALERT:",D),D.data&&D.data.analysis)){const P=`Alerta Aut√≥noma. ${D.data.analysis.message}`;H(P)}}}catch{}},3e4);return()=>clearInterval(T)},[]),b.useEffect(()=>{a&&(console.log("üîÑ DASHBOARD: Syncing with Parent Data...",a.services?.length),f(a))},[a]);const[B,ye]=b.useState(null),[U,ne]=b.useState(!1),De=async()=>{ne(!0);try{const v=await fetch("/api/strategic-cycle",{method:"POST"});if(v.ok){const w=await v.json();ye(w),w.voice_broadcast&&H(w.voice_broadcast.text)}}catch(v){console.error("CEO Brain Offline:",v)}finally{ne(!1)}},at=async()=>{H("Iniciando Auditor√≠a Profunda con Agente Financiero...");try{const v=await fetch("/api/decisions/financial-audit",{method:"POST",headers:{"Content-Type":"application/json"}});if(!v.ok){const M=await v.text();throw new Error(`Server Error (${v.status}): ${M}`)}const w=await await v.json();console.log("AUDIT RESULT:",w);const T=w.score||0,m=w.verdict||"Desconocido";H(`Auditor√≠a Finalizada. Score: ${T}. Veredicto: ${m}`),alert(`‚úÖ AUDITOR√çA COMPLETADA

Score: ${T}/100
Veredicto: ${m}

(Vea el log para m√°s detalles)`)}catch(v){console.error("Audit Failed",v),H("Error cr√≠tico conectando con el Agente Financiero."),alert(`‚ùå ERROR DE CONEXI√ìN:
${v.message}

Verifique que el Backend Python est√© corriendo.`)}};b.useEffect(()=>{if(h&&!B){const v=setTimeout(De,2e3);return()=>clearTimeout(v)}},[h]),b.useEffect(()=>{if(h)return;(async()=>{console.log("üì° CONNECTING TO TESO OPS V4..."),u(!0);try{const T=await fetch("/api/simulate/core-v4",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cars:15,avg_trips_per_day:40,days:360})});if(!T.ok)throw new Error("Ops Engine Offline");const m=await T.json();console.log("‚úÖ OPS CONNECTED:",m);const M=m.operational?.annual_trips||14400,D=m.operational?.cars||15,P=new Array(M),N=new Date;N.setDate(N.getDate()-360);for(let R=0;R<M;R++){const F=R%D+1,G=Math.floor(R/40),$=new Date(N);$.setDate($.getDate()+G),P[R]={id:`TRIP-${R}`,date:$.toISOString(),lat:6.24+(Math.random()*.08-.04),lng:-75.58+(Math.random()*.08-.04),status:"COMPLETED",financials:{totalValue:125e3,driverPayment:82e3,netRevenue:25e3},plate:`TES-${100+F}`,driver_name:`Cond. ${F}`}}const L=P.filter((R,F)=>F%10===0).map(R=>({date:R.date,amount:25e3,type:"INCOME",description:"Comisi√≥n Teso Ops"})),Z=Array.from({length:8}).map((R,F)=>({id:`FL-${500+F}`,lat:6.24+(Math.random()*.1-.05),lng:-75.58+(Math.random()*.1-.05),heading:Math.floor(Math.random()*360),alt:8e3+Math.floor(Math.random()*5e3),spd:240+Math.floor(Math.random()*40),status:Math.random()>.3?"AIRBORNE":"LANDED",from:["MIA","BOG","CLO","JFK","MAD"][Math.floor(Math.random()*5)]}));f({...m,services:P,planes:Z,bankTransactions:L})}catch(w){console.error("‚ùå OPS ERROR:",w),E(w.message)}finally{u(!1)}})()},[]);const[re,st]=b.useState(t),[ie,lt]=b.useState("PROGRAMACION"),[me,dt]=b.useState(!1),[wn,Tn]=b.useState(null),[O,Dn]=b.useState("Today"),[In,Rn]=b.useState(!1),[Fn,On]=b.useState(!1),[k,be]=b.useState({cxcDays:30,cxpFreq:15,growth:1}),[V,ct]=b.useState({status:"STABLE",minCash:0,insolvencyDay:null,runway:"‚àû"});b.useEffect(()=>{let v=[...e||[],...h?.services||[]];if(v.length===0)return;const T=(()=>{const S=new Date;return S.setHours(0,0,0,0),O==="Today"?(S.setDate(S.getDate()-1),S):O==="30D"?(S.setDate(S.getDate()-30),S):O==="90D"?(S.setDate(S.getDate()-90),S):O==="180D"?(S.setDate(S.getDate()-180),S):O==="360D"?(S.setDate(S.getDate()-360),S):new Date("2020-01-01")})();O!=="ALL"&&(v=v.filter(S=>new Date(S.date||0)>=T));const m=[],M=8e8,D=v.map(S=>new Date(S.date).getTime()),P=new Date(Math.min(...D)),N=new Date(Math.max(...D)),L=new Date(N);L.setDate(L.getDate()+parseInt(k.cxcDays)+15),v.forEach(S=>{if(S.status==="CANCELLED")return;const W=new Date(S.date);W.setDate(W.getDate()+parseInt(k.cxcDays)),m.push({date:W,amount:(S.financials?.totalValue||0)*parseFloat(k.growth),type:"INFLOW"})}),v.forEach(S=>{if(S.status==="CANCELLED")return;const W=new Date(S.date),te=W.getDate();let Q=Math.ceil(te/k.cxpFreq)*k.cxpFreq;Q>30&&(Q=30);const de=new Date(W);te>Q?(de.setMonth(de.getMonth()+1),de.setDate(k.cxpFreq)):de.setDate(Q),m.push({date:de,amount:-((S.financials?.driverPayment||0)*parseFloat(k.growth)),type:"OUTFLOW"})});const Z=[{desc:"INFRAESTRUCTURA AWS",amount:25e5,day:5},{desc:"OFICINA & ADMIN",amount:45e5,day:1},{desc:"NOMINA SOPORTE (Q1)",amount:6e6,day:15},{desc:"NOMINA SOPORTE (Q2)",amount:6e6,day:30}];let R=new Date(P);for(;R<=L;){const S=R.getMonth(),W=R.getFullYear();Z.forEach(te=>{const Q=new Date(W,S,te.day);Q>=P&&Q<=L&&m.push({date:Q,amount:-te.amount,type:"FIXED_COST"})}),R.setMonth(R.getMonth()+1)}m.sort((S,W)=>S.date-W.date);let F=M,G=M,$=M,q=null;const oe=[];for(let S of m)F+=S.amount,F<G&&(G=F),F>$&&($=F),F<0&&!q&&(q=S.date.toLocaleDateString()),oe.push(F);const X=oe.length,j=Math.max($-G,1e6),I=S=>90-(S-G)/j*80;let ee=`M 0 ${I(M)}`;const ae=Math.ceil(X/200);for(let S=0;S<X;S+=ae){const W=S/X*100,te=I(oe[S]);ee+=` L ${W} ${te}`}ct({status:G<0?"INSOLVENT":"SUSTAINABLE",minCash:G,insolvencyDay:q,runway:q?`${Math.floor((new Date(q)-new Date)/(1e3*60*60*24))} Days`:"‚àû",graphPath:ee,duration:Math.floor(X/(v.length/m.length||1)),simDays:Math.ceil(X/(m.length/X))})},[h,k,O]),b.useEffect(()=>{t&&st(t)},[t]);const[Ie,Pn]=b.useState({efficiency:94,avgResponse:12,errorRate:0}),[J,pt]=b.useState({totalRevenue:0,totalCost:0,margin:0,marginPercent:0,cxcPending:0,cxpPending:0,topClients:[]}),[Nn,Mn]=b.useState(""),[Ln,ft]=b.useState([]),ht=()=>{if(!V)return;hn(k,V,J).save(`TESO_CERTIFICADO_RESILIENCIA_${new Date().toISOString().slice(0,10)}.pdf`),gn("Director Financiero","DOWNLOAD_STRESS_CERTIFICATE",{scenario:k,result:V.status})};b.useEffect(()=>{const w=(()=>{const j=new Date;if(O==="Today")return new Date(j.setDate(j.getDate()-1));const I=new Date;if(O==="7D")return new Date(I.setDate(I.getDate()-7));const ee=new Date;if(O==="30D")return new Date(ee.setDate(ee.getDate()-30));const ae=new Date;return O==="90D"?new Date(ae.setDate(ae.getDate()-90)):new Date("2020-01-01")})(),T=j=>j.date?new Date(j.date)>=w:!0,m=[...e||[],...h?.services||[]],M=h?.bankTransactions||[],D=O==="ALL"?m:m.filter(T),P=O==="ALL"?M:M.filter(T);let N=0,L=0,Z=0,R=0;const F={};D.forEach(j=>{const I=j.financials?.totalValue||parseFloat((j.fare||"0").replace(/[^0-9]/g,""))||0,ee=j.financials?.totalCost||I*.8,ae=j.financials?.driverPayment||I*.6;if(N+=I,L+=ee,j.status!=="CANCELLED"){Z+=I,R+=ae;const S=j.company||j.paxName||h?.clients?.find(W=>W.id===j.clientId)?.companyName||"PARTICULAR";F[S]||(F[S]=0),F[S]+=I}});const G=N-L,$=P.filter(j=>j.type==="INCOME").reduce((j,I)=>j+I.amount,0),q=Z-$;P.filter(j=>j.type==="EXPENSE"&&(j.description?.includes("N√ìMINA")||j.description?.includes("PAGO"))).reduce((j,I)=>j+Math.abs(I.amount||0),0);const oe=Object.entries(F).map(([j,I])=>({name:j,volume:I,balance:I,status:I>5e6?"VIP PLATINUM":"CORPORATE"})).sort((j,I)=>I.volume-j.volume).slice(0,15);pt({totalRevenue:N,totalCost:L,margin:G,marginPercent:N>0?(G/N*100).toFixed(1):0,cxcPending:q,cxpPending:R,topClients:oe});const X=oe.map((j,I)=>({id:`CORP-${100+I}`,name:j.name,currentCycleServices:Math.floor(j.volume/85e3),cycleStatus:j.volume>5e6?"CUTOFF READY":"ACCUMULATING",lastInvoice:`FE-${9e3+I}`,pdf:I<3?[En,An,jn][I]:null}));ft(X)},[e,h,O]);const gt=v=>{if(!v)return new Date(0);if(v==="Hoy")return new Date;if(v==="Ma√±ana"){const T=new Date;return T.setDate(T.getDate()+1),T}if(v==="Pasado Ma√±ana"){const T=new Date;return T.setDate(T.getDate()+2),T}const w=new Date(v);return isNaN(w.getTime())?(console.warn("Invalid Date encountered:",v),new Date(0)):w};(()=>{const v=[...e||[],...h?.services||[]];if(O==="ALL")return v.length;const T=(()=>{const m=new Date;return m.setHours(0,0,0,0),O==="Today"?(m.setDate(m.getDate()-1),m):O==="7D"?(m.setDate(m.getDate()-7),m):O==="30D"?(m.setDate(m.getDate()-30),m):O==="90D"?(m.setDate(m.getDate()-90),m):O==="180D"?(m.setDate(m.getDate()-180),m):new Date("2020-01-01")})();return v.filter(m=>gt(m.date)>=T).length})();const[Wn,zn]=b.useState(null),ut=()=>!B&&!U?null:i.jsxs("div",{style:{margin:"20px",background:"linear-gradient(135deg, #1e1b4b 0%, #312e81 100%)",border:"1px solid #6366f1",borderRadius:"8px",padding:"20px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.5)"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[i.jsx("div",{style:{fontSize:"2rem",background:"#fff",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center"},children:"üëî"}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.8rem",color:"#a5b4fc",fontWeight:"bold"},children:"VORTEX STRATEGIC ORCHESTRATOR"}),i.jsx("div",{style:{fontSize:"1.2rem",color:"#fff",fontWeight:"900"},children:U?"ANALIZANDO ESTRATEGIA GLOBAL...":"DIRECTIVA EJECUTIVA VIGENTE"})]})]}),i.jsx("div",{children:i.jsx("button",{onClick:De,disabled:U,style:{background:U?"#4338ca":"#4f46e5",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"6px",fontWeight:"bold",cursor:U?"wait":"pointer"},children:U?"‚è≥ CALCULANDO...":"üîÑ RE-EVALUAR ESTRATEGIA"})})]}),B&&!U&&i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"20px"},children:[i.jsxs("div",{style:{background:"rgba(0,0,0,0.3)",padding:"15px",borderRadius:"6px"},children:[i.jsx("div",{style:{color:"#818cf8",fontSize:"0.75rem",marginBottom:"5px"},children:"DECISI√ìN DEL CEO"}),i.jsx("div",{style:{color:"#fff",fontSize:"1.4rem",fontWeight:"bold",marginBottom:"10px"},children:B.strategic_alignment.directive.replace(/_/g," ")}),i.jsxs("div",{style:{color:"#c7d2fe",fontSize:"0.9rem",fontStyle:"italic"},children:['"',B.strategic_alignment.reasoning,'"']})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[i.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"10px",borderRadius:"4px",borderLeft:"3px solid #34d399"},children:[i.jsx("div",{style:{fontSize:"0.7rem",color:"#aaa"},children:"CFO (FINANZAS)"}),i.jsxs("div",{style:{fontWeight:"bold",color:"#fff"},children:["Score: ",B.department_reports?.finance?.executive_summary?.score||0,"/100"]})]}),i.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"10px",borderRadius:"4px",borderLeft:"3px solid #fbbf24"},children:[i.jsx("div",{style:{fontSize:"0.7rem",color:"#aaa"},children:"COO (LOG√çSTICA)"}),i.jsxs("div",{style:{fontWeight:"bold",color:"#fff"},children:["Status: ",B.department_reports?.operations?.dispatch_summary?.status||"N/A"]})]})]})]})]}),[xt,vt]=b.useState({activeOrderId:null,stepIndex:-1,nodes:[{id:"MARKET",icon:"üì°",label:"MARKET SENSOR",role:"Demand & IO Handler",status:"SCANNING",load:30,logs:["Listening..."]},{id:"PRICING",icon:"üß†",label:"PRICING CORE",role:"Dynamic Calc / Fixed Routes",status:"IDLE",load:0,logs:[]},{id:"FINANCE",icon:"üõ°Ô∏è",label:"PAYMENT GUARDIAN",role:"Pre-Service Fund Capture",status:"IDLE",load:0,logs:[]},{id:"COMPLIANCE",icon:"‚öñÔ∏è",label:"LEGAL CHECK",role:"RNT/SOAT Validation",status:"IDLE",load:0,logs:[]},{id:"DISPATCH",icon:"üöÄ",label:"OPS SENTINEL",role:"Assignment & Routing",status:"IDLE",load:0,logs:[]}]}),[yt,Re]=b.useState([{time:"10:42:01",msg:"System stable. Orchestrator: ONLINE."}]);b.useEffect(()=>{const v=setInterval(()=>{vt(w=>{let{activeOrderId:T,stepIndex:m,nodes:M}=w;const D=[...M];if(T===null&&Math.random()>.7){const P=`ORD-${Math.floor(Math.random()*9e3)+1e3}`;return{...w,activeOrderId:P,stepIndex:0,nodes:D.map((N,L)=>L===0?{...N,status:"PROCESSING",load:80,logs:[`New Request: ${P}`]}:N)}}if(T){const P=D[m];if(P.load>0)D[m]={...P,load:Math.max(0,P.load-25)};else{D[m]={...P,status:"DONE",logs:["Completed."]};const N=m+1;if(N<D.length){const L=D[N],Z=[["Calculating Tariff..."],["Capturing Funds..."],["Verifying Driver Docs..."],["Dispatching Unit..."]],R=["üì° MARKET -> üß† PRICING: Request Data { dist: 12km, pax: 'VIP' }","üß† PRICING -> üõ°Ô∏è FINANCE: Quote Locked $45.000 (Pre-Paid).","üõ°Ô∏è FINANCE -> ‚öñÔ∏è COMPLIANCE: Funds Secured (Tx#99). Verify Asset.","‚öñÔ∏è COMPLIANCE -> üöÄ DISPATCH: Legal Check Passed. Auth to Dispatch."];return R[m]&&Re(F=>[{time:new Date().toLocaleTimeString("es-CO",{hour12:!1}),msg:R[m],type:"HANDSHAKE"},...F.slice(0,9)]),D[N]={...L,status:"WORKING",load:100,logs:Z[m]||["Processing..."]},{...w,stepIndex:N,nodes:D}}else return Re(L=>[{time:new Date().toLocaleTimeString("es-CO",{hour12:!1}),msg:`‚úÖ ORCHESTRATION COMPLETE: ${T} Dispatched w/ Zero Friction.`},...L.slice(0,8)]),{...w,activeOrderId:null,stepIndex:-1,nodes:D.map(L=>({...L,status:"IDLE",load:0,logs:[]}))}}}return T||(D[0]={...D[0],status:"SCANNING",load:30+Math.random()*10}),{...w,nodes:D}})},800);return()=>clearInterval(v)},[]);const le=v=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}).format(v);return i.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:re==="LIVE_OPS"?"transparent":"var(--color-bg-app)",backdropFilter:re==="LIVE_OPS"?"none":"blur(20px)",boxShadow:re==="LIVE_OPS"?"none":"0 0 50px rgba(0,0,0,0.5)",border:re==="LIVE_OPS"?"none":"1px solid var(--color-border-subtle)",pointerEvents:"auto",color:"var(--color-text-primary)",zIndex:100,padding:re==="LIVE_OPS"?0:"var(--spacing-xl)",display:"flex",flexDirection:"column",fontFamily:"var(--font-main)"},children:re==="LIVE_OPS"?i.jsx("div",{style:{flex:1,position:"relative",overflow:"hidden"},children:i.jsx(Sn,{opsCommand:A,simulationData:{...h,services:e||h?.services,vehicles:n||h?.vehicles},planes:r})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",pointerEvents:"auto"},children:[i.jsx(ot,{activeTab:ie,onTabChange:lt,tabs:[{id:"PROGRAMACION",label:"AGENDA",icon:"üìÖ"},{id:"FINANCE",label:"FINANZAS",icon:"üí∞"},{id:"CLIENTS",label:"CLIENTES",icon:"üè¢"},{id:"MARKETING",label:"MERCADO",icon:"üì¢"},{id:"WAR_ROOM",label:"WAR ROOM",icon:"‚öîÔ∏è"}]}),i.jsxs("div",{style:{display:"flex",gap:"10px"},children:[i.jsx(ce,{label:me?"üîì EXIT AUDIT":"üîí AUDIT MODE",active:me,onClick:()=>dt(!me),variant:"secondary"}),i.jsx(ce,{label:"‚úñ CLOSE",onClick:l,variant:"danger"})]})]}),i.jsx("div",{style:{pointerEvents:"auto"},children:i.jsx(ut,{})}),i.jsxs("div",{style:{flex:1,overflowY:"auto",paddingRight:"10px",pointerEvents:"auto"},children:[ie==="PROGRAMACION"&&i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[i.jsxs("div",{className:"glass-panel",style:{padding:"20px"},children:[i.jsx("h3",{children:"METRICAS OPERATIVAS"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[i.jsxs("div",{children:[i.jsx("div",{className:"label",children:"Eficiencia"}),i.jsxs("div",{className:"value-lg",style:{color:"var(--color-kpi-positive)"},children:[Ie.efficiency,"%"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"label",children:"Conflictos"}),i.jsx("div",{className:"value-lg",style:{color:Ie.errorRate>0?"var(--color-kpi-danger)":"var(--color-text-secondary)"},children:h?.conflicts?.cancellations||0})]})]})]}),i.jsxs("div",{className:"glass-panel",style:{padding:"20px",gridColumn:"span 2"},children:[i.jsx("h3",{children:"ORQUESTADOR DE IA (WORKFORCE)"}),i.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"20px"},children:xt.nodes.map((v,w)=>i.jsxs("div",{style:{textAlign:"center",opacity:v.status==="IDLE"?.4:1,width:"18%"},children:[i.jsx("div",{style:{fontSize:"2rem",marginBottom:"10px",filter:v.status==="WORKING"?"drop-shadow(0 0 8px cyan)":"none"},children:v.icon}),i.jsx("div",{style:{fontSize:"0.8rem",fontWeight:"bold",color:"#fff"},children:v.label}),i.jsx("div",{style:{fontSize:"0.7rem",color:"#aaa",height:"15px"},children:v.status==="WORKING"?v.logs[0]:v.status}),i.jsx("div",{style:{height:"4px",background:"#333",marginTop:"5px",borderRadius:"2px"},children:i.jsx("div",{style:{width:`${v.load}%`,height:"100%",background:v.id==="DISPATCH"?"#10b981":"#06b6d4",transition:"width 0.2s"}})})]},v.id))}),i.jsx("div",{style:{marginTop:"20px",background:"#000",padding:"10px",borderRadius:"4px",height:"100px",overflowY:"auto",fontFamily:"monospace",fontSize:"0.8rem",color:"#39FF14"},children:yt.map((v,w)=>i.jsxs("div",{children:["[",v.time,"] ",v.msg]},w))})]})]}),ie==="FINANCE"&&i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 3fr",gap:"20px"},children:[i.jsxs("div",{className:"glass-panel",style:{padding:"20px"},children:[i.jsxs("h2",{children:["CAJA: ",le(J.margin)]}),i.jsxs("div",{style:{marginTop:"20px",display:"flex",flexDirection:"column",gap:"15px"},children:[i.jsxs("div",{children:[i.jsx("div",{className:"label",children:"Ingresos Totales"}),i.jsx("div",{className:"value",children:le(J.totalRevenue)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"label",children:"Costos Operativos"}),i.jsx("div",{className:"value",style:{color:"#ef4444"},children:le(J.totalCost)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"label",children:"Margen Neto"}),i.jsxs("div",{className:"value",style:{color:"#39FF14"},children:[J.marginPercent,"%"]})]}),i.jsx("hr",{style:{borderColor:"#333"}}),i.jsxs("div",{children:[i.jsx("div",{className:"label",children:"CxC Pendiente"}),i.jsx("div",{className:"value",style:{color:"#f59e0b"},children:le(J.cxcPending)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"label",children:"CxP Drivers"}),i.jsx("div",{className:"value",style:{color:"#6366f1"},children:le(J.cxpPending)})]})]}),i.jsx("div",{style:{marginTop:"30px"},children:i.jsx(ce,{label:"üîç AUDITAR CAJA",onClick:at})})]}),i.jsxs("div",{className:"glass-panel",style:{padding:"20px"},children:[i.jsx("h3",{children:"PROYECCI√ìN DE FLUJO DE CAJA (STRESS TEST)"}),i.jsxs("div",{style:{height:"300px",display:"flex",alignItems:"flex-end",gap:"2px",paddingBottom:"20px",borderBottom:"1px solid #333",position:"relative"},children:[V&&V.graphPath&&i.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[i.jsx("line",{x1:"0",y1:"50",x2:"100",y2:"50",stroke:"#333",strokeDasharray:"2",strokeWidth:"0.5"}),i.jsx("path",{d:V.graphPath,fill:"none",stroke:V.status==="INSOLVENT"?"#ef4444":"#39FF14",strokeWidth:"1.5",vectorEffect:"non-scaling-stroke"}),i.jsx("path",{d:`${V.graphPath} L 100 100 L 0 100 Z`,fill:V.status==="INSOLVENT"?"rgba(239, 68, 68, 0.1)":"rgba(57, 255, 20, 0.1)",stroke:"none"})]}),i.jsxs("div",{style:{position:"absolute",top:10,right:10,textAlign:"right"},children:[i.jsx("div",{style:{fontSize:"0.8rem",color:"#aaa"},children:"RUNWAY ACTUAL"}),i.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:V?.runway==="‚àû"?"#39FF14":"#ef4444"},children:V?.runway})]})]}),i.jsxs("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"10px"},children:["* Proyecci√≥n basada en ",J.cxcPending>0?"ciclo de cobro actual":"datos hist√≥ricos","."]})]})]}),ie==="WAR_ROOM"&&i.jsxs("div",{className:"glass-panel",style:{padding:"30px",maxWidth:"800px",margin:"0 auto"},children:[i.jsx("h2",{style:{color:"#ef4444"},children:"‚öîÔ∏è COMMAND CENTER (WAR ROOM) ‚öîÔ∏è"}),i.jsx("p",{children:"Ajuste par√°metros globales de simulaci√≥n. Use con precauci√≥n."}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"30px",marginTop:"30px"},children:[i.jsxs("div",{children:[i.jsx("h4",{children:"ESCENARIO DE ESTR√âS"}),i.jsxs("div",{style:{marginBottom:"15px"},children:[i.jsx("label",{children:"D√≠as de Cartera (CxC)"}),i.jsx("input",{type:"range",min:"0",max:"120",value:k.cxcDays,onChange:v=>be({...k,cxcDays:v.target.value}),style:{width:"100%"}}),i.jsxs("div",{style:{textAlign:"right",color:"#39FF14"},children:[k.cxcDays," D√≠as"]})]}),i.jsxs("div",{style:{marginBottom:"15px"},children:[i.jsx("label",{children:"Frecuencia N√≥mina"}),i.jsxs("select",{value:k.cxpFreq,onChange:v=>be({...k,cxpFreq:parseInt(v.target.value)}),style:{width:"100%",background:"#000",color:"#fff",padding:"5px"},children:[i.jsx("option",{value:15,children:"Quincenal (15)"}),i.jsx("option",{value:30,children:"Mensual (30)"}),i.jsx("option",{value:7,children:"Semanal (7)"})]})]})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",justifyContent:"center"},children:[i.jsx(ce,{label:"üö® SIMULAR QUIEBRA (STRESS TEST)",variant:"danger",onClick:()=>{be({cxcDays:90,cxpFreq:7,growth:.5}),alert("Simulando escenario 'Perfect Storm'...")}}),i.jsx(ce,{label:"üìÑ DESCARGAR REPORTE PDF",variant:"primary",onClick:ht})]})]})]}),["CLIENTS","MARKETING"].includes(ie)&&i.jsxs("div",{style:{textAlign:"center",padding:"50px",color:"#666"},children:[i.jsxs("h1",{children:["M√ìDULO ",ie]}),i.jsx("p",{children:"Datos en vivo conectando con API v4..."})]})]})]})})};export{_n as default};
